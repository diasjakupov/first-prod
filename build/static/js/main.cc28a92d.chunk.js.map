{"version":3,"sources":["components/catalog/search.js","components/catalog/book-item.js","service/actions/books-action.js","service/api/books-api.js","components/catalog/book-list.js","service/thunk/books-thunk.js","components/catalog-2/compostion-item.js","components/catalog-2/popular.js","components/catalog-2/main-block.js","components/mainpage/nav.js","components/mainpage/mainpage.js","components/filter-page/filter-block.js","components/filter-page/books-list.js","components/filter-page/paginations.js","components/filter-page/main-block.js","service/actions/profile-action.js","service/api/profile.js","service/thunk/profile.js","service/actions/book-action.js","service/thunk/detail-thunk.js","components/detail-page/rating-popup.js","components/detail-page/chapter-item.js","components/detail-page/review-item.js","components/detail-page/pagination.js","components/detail-page/detail.js","components/detail-page/page-nav.js","components/detail-page/page.js","components/auth/validator.js","components/auth/input.js","components/auth/login.js","components/auth/register.js","components/auth/image-popup.js","components/auth/profile.js","components/auth/public.js","service/auth/JWT.js","App.js","components/reducers/books.js","components/reducers/detail-book.js","components/reducers/profile.js","store.js","index.js"],"names":["withRouter","history","search","useRef","className","placeholder","ref","xmlns","width","height","fill","viewBox","type","onClick","value","current","push","onSearch","d","item","margin","light","id","src","poster","alt","style","color","title","types","CHANGE_THEME","base_url","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","settings","BooksApi","axios","get","res","status","data","filter","page","access","token","slice","idx","replace","headers","Authorization","book_id","put","likes_update","Error","user_id","star","text","post","user","book","booksApi","getBooks","dispatch","getAllOrFilterBooks","then","GET_BOOKS","window","screen","dots","infinite","speed","slidesToShow","slidesToScroll","arrows","connect","state","books","bookReducer","mostRated","getMostRatedBooks","GET_THE_MOST_RATED","useEffect","map","index","ComposItemMobileWR","date","Date","created_date","background","borderBottom","fontWeight","display","marginBottom","chapter_num","opacity","Intl","DateTimeFormat","year","month","day","format","ComposItemWR","mostPopular","newest","getMostPopularBooks","GET_THE_MOST_POPULAR","getTheNewestChapters","GET_THE_NEWEST","paddingBottom","to","textDecoration","Fragment","genre","category","getCategory","getFilterList","GET_CATEGORY","getTypes","GET_TYPES","getGenre","GET_GENRE","params","filtersRef","searchRef","searchValue","decodeurl","indexOf","getinputValue","checkFilter","dropdownChoices","querySelectorAll","filters","forEach","parentId","parentElement","children","childNodes","checked","textContent","filtered","arr","result","keys","key","Set","concatvalue","undefined","concatFilter","textAlign","defaultValue","justifyContent","paddingLeft","paddingRight","fontSize","count","booksLoading","PreviousLabel","NextLabel","numPage","useState","forsePage","setforse","match","num","parseInt","pageCount","pageRangeDisplayed","marginPagesDisplayed","containerClassName","pageClassName","breakClassName","activeClassName","activeLinkClassName","previousLabel","nextLabel","previousClassName","nextClassName","onPageChange","currentPage","selected","newParams","initialPage","forcePage","p","SET_AUTH","DEL_AUTH","localStorage","setItem","Profile","username","password","re_password","gender","first_name","image","api","getMyUser","GET_MY_USER","GET_DETAIL_BOOK","console","log","getChapters","getChapterByBook","GET_CHAPTERS","isOpen","setOpen","isAuth","chosenStar","setStar","setText","err","setErr","JSON","parse","getItem","alignItems","xlinkHref","marginTop","rows","cols","outline","border","onChange","e","finishedText","setComment","target","setReview","catch","removeItem","location","reload","publish","starPrecent","setPersent","persent","cursor","dangerouslySetInnerHTML","__html","BookDetailReducer","description","views","is_liked","average_rating","chapters","page_count","chapterloading","Chapterloading","bookLoading","reviews","ProfileReducer","myuser","getDetailBook","getReviews","GET_REVIEWS","subUrl","setSub","bookId","setBookId","open","role","overflowX","overflowY","marginRight","setLike","addLike","marginLeft","paddingTop","all_chapters","getNotOrderedChapterByBook","GET_NOT_ORD_CHAPTERS","info","book_title","mb_chp","prevScrollpos","pageYOffset","onscroll","currentScrollPos","navbar","getElementById","top","position","gridTemplateColumns","padding","transition","whiteSpace","textOverflow","maxWidth","previous","next","pages","pages_info","pages_loading","getPages","getPagesByChapter","GET_PAGES","picture","required","passwordsMatch","allValues","CustomField","input","label","meta","touched","error","warning","GenderInput","mapStateToProps","LoginForm","props","onSubmit","handleSubmit","values","loginUser","tokens","stringify","refresh","AUTH_ERROR","authError","Field","component","validate","reduxForm","form","RegisterForm","stateErr","putError","profileApi","createUser","Object","response","errors","ImagePopUp","inputEl","setRes","load","a","files","FormData","append","setimage","r","Private","changeMyProfile","books_like","enableReinitialize","PrivateProfile","initialValues","getUserById","GET_USER","date_joined","date_joined_id","checkingToken","acc","isToken","isaccess","isrefresh","path","MainPage","exact","render","Loginform","initialState","action","results","previous_chapter","next_chapter","store","createStore","combineReducers","formReducer","applyMiddleware","thunk","ReactDOM"],"mappings":"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","file":"static/js/main.cc28a92d.chunk.js","sourcesContent":["import React, { useRef } from \"react\";\r\nimport \"./style.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst Search = ({ history }) => {\r\n  const search = useRef(null);\r\n\r\n  const onSearch = () => {\r\n    const value = search.current.value;\r\n    history.push(\"/filter/title=\" + value);\r\n  };\r\n  return (\r\n    <div className=\"search-wrapper\">\r\n      <input className=\"search\" placeholder=\"Поиск...\" ref={search} />\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"16\"\r\n        height=\"16\"\r\n        fill=\"currentColor\"\r\n        className=\"bi bi-search search-icon\"\r\n        viewBox=\"0 0 16 16\"\r\n        type=\"button\"\r\n        onClick={() => onSearch()}\r\n      >\r\n        <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Search);\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst BookItem = ({ item, margin, light, history }) => {\r\n  return (\r\n    <div\r\n      className={\"book-card\" + (margin === 0 ? \" book-card-filter\" : \"\")}\r\n      onClick={() => {\r\n        history.push(`/detail/id=${item.id}`);\r\n      }}\r\n    >\r\n      <img src={item.poster} className=\"book-image\" alt=\"poster\" />\r\n      <h6\r\n        className=\"book-name\"\r\n        style={light ? { color: \"black\" } : { color: \"white\" }}\r\n      >\r\n        {item.title}\r\n      </h6>\r\n      <span\r\n        className=\"book-list-cat\"\r\n        style={light ? { color: \"black\" } : { color: \"white\" }}\r\n      >\r\n        {item.types}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(BookItem);\r\n","const FETCHING_DATA = () => {\r\n  return { type: \"FETCHING_DATA\" };\r\n};\r\n\r\nconst GET_THE_MOST_RATED = (data) => {\r\n  return { type: \"GET_THE_MOST_RATED\", data: data };\r\n};\r\n\r\nconst GET_THE_MOST_POPULAR = (data) => {\r\n  return { type: \"GET_THE_MOST_POPULAR\", data: data };\r\n};\r\n\r\nconst GET_THE_NEWEST = (data) => {\r\n  return { type: \"GET_THE_NEWEST\", data: data };\r\n};\r\n\r\nconst CHANGE_THEME = () => {\r\n  return { type: \"CHANGE_THEME\" };\r\n};\r\n\r\nconst GET_TYPES = (data) => {\r\n  return { type: \"GET_TYPES\", data: data };\r\n};\r\n\r\nconst GET_GENRE = (data) => {\r\n  return { type: \"GET_GENRE\", data: data };\r\n};\r\n\r\nconst GET_CATEGORY = (data) => {\r\n  return { type: \"GET_CATEGORY\", data: data };\r\n};\r\n\r\nconst GET_BOOKS = (data) => {\r\n  return { type: \"GET_BOOKS\", data: data };\r\n};\r\nexport {\r\n  FETCHING_DATA,\r\n  GET_THE_MOST_RATED,\r\n  GET_THE_MOST_POPULAR,\r\n  GET_THE_NEWEST,\r\n  GET_TYPES,\r\n  GET_GENRE,\r\n  GET_CATEGORY,\r\n  GET_BOOKS,\r\n  CHANGE_THEME,\r\n};\r\n","import axios from \"axios\";\r\nconst base_url = \"http://127.0.0.1:8000/\";\r\n\r\nfunction getCookie(name) {\r\n  let cookieValue = null;\r\n  if (document.cookie && document.cookie !== \"\") {\r\n    const cookies = document.cookie.split(\";\");\r\n    for (let i = 0; i < cookies.length; i++) {\r\n      const cookie = cookies[i].trim();\r\n      // Does this cookie string begin with the name we want?\r\n      if (cookie.substring(0, name.length + 1) === name + \"=\") {\r\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return cookieValue;\r\n}\r\n\r\nclass BooksApi {\r\n  async getMostRatedBooks() {\r\n    const res = await axios.get(\r\n      base_url + \"api/books/filtered?average_rating=1\"\r\n    );\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      return 404;\r\n    }\r\n  }\r\n  async getMostPopularBooks() {\r\n    const res = await axios.get(base_url + \"api/books/filtered?views=1\");\r\n\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      return 404;\r\n    }\r\n  }\r\n  async getTheNewestChapters() {\r\n    const res = await axios.get(base_url + \"api/books/chapters\");\r\n\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      return 404;\r\n    }\r\n  }\r\n  async getFilterList(name) {\r\n    const res = await axios.get(base_url + `api/books/${name}`);\r\n\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      return 404;\r\n    }\r\n  }\r\n  async getAllOrFilterBooks(filter) {\r\n    const res = await axios.get(base_url + `api/books/${filter}`);\r\n\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      return 404;\r\n    }\r\n  }\r\n  async getChapterByBook(id, page = 1) {\r\n    const res = await axios.get(\r\n      base_url + `api/books/book-detail-c/${id}?page=${page}`\r\n    );\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      return 404;\r\n    }\r\n  }\r\n  async getNotOrderedChapterByBook(id) {\r\n    const res = await axios.get(base_url + `api/books/chapter-wp/${id}`);\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      return 404;\r\n    }\r\n  }\r\n  async getDetailBook(id, access) {\r\n    let token = null;\r\n    if (access) {\r\n      token = access.slice(1, -1);\r\n    }\r\n    const idx = id.replace(\"id=\", \"\");\r\n    let res;\r\n    if (token !== null) {\r\n      res = await axios.get(base_url + `api/books/${idx}`, {\r\n        headers: {\r\n          Authorization: \"JWT \" + access,\r\n        },\r\n      });\r\n    } else {\r\n      res = await axios.get(base_url + `api/books/${idx}`);\r\n    }\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      return 404;\r\n    }\r\n  }\r\n  async getPagesByChapter(id) {\r\n    const res = await axios.get(base_url + `api/books/chapter/${id}`);\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      return 404;\r\n    }\r\n  }\r\n  async setLike(book_id, access) {\r\n    const res = await axios.put(\r\n      base_url + `api/books/${book_id}`,\r\n      {\r\n        likes_update: 1,\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: \"JWT \" + access,\r\n        },\r\n      },\r\n      {\r\n        \"X-CSRFToken\": getCookie(\"csrftoken\"),\r\n      }\r\n    );\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      throw new Error(\"bad request\");\r\n    }\r\n  }\r\n  async getReviews(id) {\r\n    const res = await axios.get(base_url + `api/books/book-review/${id}`);\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      return 404;\r\n    }\r\n  }\r\n  async setReview(book_id, user_id, star, text, access) {\r\n    const res = await axios.post(\r\n      base_url + `api/books/set_rating`,\r\n      {\r\n        user: user_id,\r\n        book: book_id,\r\n        star: star,\r\n        text: text,\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: \"JWT \" + access,\r\n        },\r\n      },\r\n      {\r\n        \"X-CSRFToken\": getCookie(\"csrftoken\"),\r\n      }\r\n    );\r\n    if (res.status === 201) {\r\n      return res.data;\r\n    } else {\r\n      throw new Error(\"bad request\");\r\n    }\r\n  }\r\n}\r\n\r\nexport default BooksApi;\r\n","import React, { useEffect } from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport BookItem from \"./book-item\";\r\nimport { connect } from \"react-redux\";\r\nimport { getMostRatedBooks } from \"../../service/thunk/books-thunk\";\r\n\r\nlet settings;\r\n\r\nif (window.screen.width > 850) {\r\n  settings = {\r\n    dots: false,\r\n    infinite: false,\r\n    speed: 500,\r\n    slidesToShow: 5,\r\n    slidesToScroll: 1,\r\n  };\r\n} else if (window.screen.width > 600) {\r\n  settings = {\r\n    dots: false,\r\n    infinite: false,\r\n    speed: 500,\r\n    slidesToShow: 3,\r\n    slidesToScroll: 1,\r\n  };\r\n} else {\r\n  settings = {\r\n    dots: false,\r\n    infinite: false,\r\n    arrows: false,\r\n    speed: 500,\r\n    slidesToShow: 2,\r\n    slidesToScroll: 1,\r\n  };\r\n}\r\n\r\nconst BookList = ({ books, getMostRatedBooks }) => {\r\n  useEffect(() => {\r\n    getMostRatedBooks();\r\n  }, [getMostRatedBooks]);\r\n  return (\r\n    <div className=\"books-block\">\r\n      <h4 style={{ color: \"white\" }}>Что почитаем?</h4>\r\n      <div className=\"book-slider\">\r\n        <Slider {...settings}>\r\n          {books.map((item, index) => (\r\n            <BookItem item={item} key={index} />\r\n          ))}\r\n        </Slider>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    books: state.bookReducer.mostRated,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { getMostRatedBooks })(BookList);\r\n","import {\r\n  FETCHING_DATA,\r\n  GET_THE_MOST_RATED,\r\n  GET_THE_MOST_POPULAR,\r\n  GET_THE_NEWEST,\r\n  GET_TYPES,\r\n  GET_CATEGORY,\r\n  GET_GENRE,\r\n  GET_BOOKS,\r\n} from \"../actions/books-action\";\r\nimport BooksApi from \"../api/books-api\";\r\n\r\nconst booksApi = new BooksApi();\r\n\r\nconst getMostRatedBooks = () => {\r\n  return (dispatch) => {\r\n    dispatch(FETCHING_DATA());\r\n    booksApi.getMostRatedBooks().then((data) => {\r\n      dispatch(GET_THE_MOST_RATED(data));\r\n    });\r\n  };\r\n};\r\n\r\nconst getMostPopularBooks = () => {\r\n  return (dispatch) => {\r\n    dispatch(FETCHING_DATA());\r\n    booksApi.getMostPopularBooks().then((data) => {\r\n      dispatch(GET_THE_MOST_POPULAR(data));\r\n    });\r\n  };\r\n};\r\n\r\nconst getTheNewestChapters = () => {\r\n  return (dispatch) => {\r\n    dispatch(FETCHING_DATA());\r\n    booksApi.getTheNewestChapters().then((data) => {\r\n      dispatch(GET_THE_NEWEST(data));\r\n    });\r\n  };\r\n};\r\n\r\nconst getTypes = () => {\r\n  return (dispatch) => {\r\n    dispatch(FETCHING_DATA());\r\n    booksApi.getFilterList(\"types\").then((data) => {\r\n      dispatch(GET_TYPES(data));\r\n    });\r\n  };\r\n};\r\n\r\nconst getCategory = () => {\r\n  return (dispatch) => {\r\n    dispatch(FETCHING_DATA());\r\n    booksApi.getFilterList(\"category\").then((data) => {\r\n      dispatch(GET_CATEGORY(data));\r\n    });\r\n  };\r\n};\r\nconst getGenre = () => {\r\n  return (dispatch) => {\r\n    dispatch(FETCHING_DATA());\r\n    booksApi.getFilterList(\"genre\").then((data) => {\r\n      dispatch(GET_GENRE(data));\r\n    });\r\n  };\r\n};\r\n\r\nconst getBooks = (filter) => {\r\n  return (dispatch) => {\r\n    dispatch(FETCHING_DATA());\r\n    booksApi.getAllOrFilterBooks(filter).then((data) => {\r\n      dispatch(GET_BOOKS(data));\r\n    });\r\n  };\r\n};\r\nexport {\r\n  getMostRatedBooks,\r\n  getMostPopularBooks,\r\n  getTheNewestChapters,\r\n  getGenre,\r\n  getTypes,\r\n  getCategory,\r\n  getBooks,\r\n};\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./style.css\";\r\n\r\nconst ComposItem = ({ item, light, history }) => {\r\n  const date = new Date(item.created_date);\r\n  return (\r\n    <div\r\n      className=\"new-compos\"\r\n      style={{ background: light ? \"#fafafa\" : \"#191919\" }}\r\n      onClick={() => history.push(`/detail/id=${item.book.id}`)}\r\n    >\r\n      <div className=\"compos-img-wrapper\">\r\n        <img src={item.book.poster} className=\"comspos-img\" alt=\"poster\" />\r\n      </div>\r\n      <div className=\"compos-info\">\r\n        <h6>{item.title}</h6>\r\n        <span\r\n          style={{ fontWeight: \"400\", display: \"block\", marginBottom: \"5px\" }}\r\n        >\r\n          {item.chapter_num}\r\n        </span>\r\n        <span style={{ fontWeight: \"300\", display: \"block\", opacity: \"0.8\" }}>\r\n          {new Intl.DateTimeFormat(\"ru-RU\", {\r\n            year: \"numeric\",\r\n            month: \"long\",\r\n            day: \"2-digit\",\r\n          }).format(date)}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ComposItemMobile = ({ item, light, history }) => {\r\n  const date = new Date(item.created_date);\r\n  return (\r\n    <div\r\n      className=\"new-compos\"\r\n      style={{\r\n        background: light ? \"#fafafa\" : \"#191919\",\r\n        borderBottom: light\r\n          ? \"1px solid rgb(234, 234, 234)\"\r\n          : \"1px solid rgb(44, 44, 44)\",\r\n      }}\r\n      onClick={() => history.push(`/detail/id=${item.book.id}`)}\r\n    >\r\n      <div className=\"compos-img-wrapper\">\r\n        <img src={item.book.poster} className=\"comspos-img\" alt=\"poster\" />\r\n      </div>\r\n      <div className=\"compos-info\">\r\n        <h6 className=\"limit-line\">{item.title}</h6>\r\n        <span\r\n          style={{ fontWeight: \"400\", display: \"block\", marginBottom: \"5px\" }}\r\n        >\r\n          {item.chapter_num}\r\n        </span>\r\n        <span style={{ fontWeight: \"300\", display: \"block\", opacity: \"0.8\" }}>\r\n          {new Intl.DateTimeFormat(\"ru-RU\", {\r\n            year: \"numeric\",\r\n            month: \"long\",\r\n            day: \"2-digit\",\r\n          }).format(date)}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ComposItemMobileWR = withRouter(ComposItemMobile);\r\nconst ComposItemWR = withRouter(ComposItem);\r\n\r\nexport { ComposItemMobileWR, ComposItemWR };\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./style.css\";\r\n\r\nconst PopularItem = ({ item, history }) => {\r\n  return (\r\n    <div\r\n      className=\"pop-compos\"\r\n      onClick={() => history.push(`/detail/id=${item.id}`)}\r\n    >\r\n      <div className=\"pop-img-wrapper\">\r\n        <img src={item.poster} className=\"pop-img\" alt=\"poster\" />\r\n      </div>\r\n      <div className=\"pop-info\">\r\n        <h6>{item.title}</h6>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(PopularItem);\r\n","import React, { useEffect } from \"react\";\r\nimport \"./style.css\";\r\nimport { ComposItemWR, ComposItemMobileWR } from \"./compostion-item\";\r\nimport PopularItem from \"./popular\";\r\nimport {\r\n  getMostPopularBooks,\r\n  getTheNewestChapters,\r\n} from \"../../service/thunk/books-thunk\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Catalog2 = ({\r\n  mostPopular,\r\n  newest,\r\n  light,\r\n  getMostPopularBooks,\r\n  getTheNewestChapters,\r\n}) => {\r\n  useEffect(() => {\r\n    getMostPopularBooks();\r\n    getTheNewestChapters();\r\n  }, [getMostPopularBooks, getTheNewestChapters]);\r\n\r\n  return (\r\n    <div className={\"catalog-2 \" + (light ? \"light-bg\" : \"black-bg\")}>\r\n      <div className=\"line\"></div>\r\n      <div className=\"catalog-2-main-block\">\r\n        <div className=\"row\">\r\n          <div className=\"new-compositions col-12 col-lg-8\">\r\n            <h3 style={{ paddingBottom: \"2rem\" }}>Обновления</h3>\r\n            <div className=\"\">\r\n              {window.screen.width > 900 ? (\r\n                newest.map((item, index) => (\r\n                  <ComposItemWR item={item} key={index} light={light} />\r\n                ))\r\n              ) : (\r\n                <div className=\"new-compos-mob\">\r\n                  {newest.map((item, index) => (\r\n                    <ComposItemMobileWR item={item} key={index} light={light} />\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"popular-compos col-12 col-lg-4\">\r\n            <h3 style={{ paddingBottom: \"2rem\" }}>Популярное</h3>\r\n            <div>\r\n              {mostPopular.map((item, index) => (\r\n                <PopularItem item={item} key={index} />\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"bottom-line\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    mostPopular: state.bookReducer.mostPopular,\r\n    newest: state.bookReducer.newest,\r\n    light: state.bookReducer.light,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getMostPopularBooks,\r\n  getTheNewestChapters,\r\n})(Catalog2);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { CHANGE_THEME } from \"../../service/actions/books-action\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Nav = ({ history, CHANGE_THEME }) => {\r\n  return (\r\n    <nav className=\"my-nav\">\r\n      <div className=\"main-nav-part\">\r\n        <div>\r\n          <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n            <h3 className=\"title-brand\">TITLE</h3>\r\n          </Link>\r\n        </div>\r\n        {window.screen.width > 800 ? (\r\n          <Link to=\"/filter/\" style={{ textDecoration: \"none\" }}>\r\n            <div className=\"cat-link\">\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"currentColor\"\r\n                className=\"bi bi-bar-chart-line-fill cat-icon\"\r\n                viewBox=\"0 0 16 16\"\r\n              >\r\n                <path d=\"M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2z\" />\r\n              </svg>\r\n              <span>Каталог</span>\r\n            </div>\r\n          </Link>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"right-side-nav\">\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"16\"\r\n          height=\"16\"\r\n          fill=\"currentColor\"\r\n          className=\"bi bi-heptagon-half colorChanger\"\r\n          viewBox=\"0 0 16 16\"\r\n          onClick={() => {\r\n            CHANGE_THEME();\r\n          }}\r\n        >\r\n          <path d=\"M7.779.052a.5.5 0 0 1 .442 0l6.015 2.97a.5.5 0 0 1 .267.34l1.485 6.676a.5.5 0 0 1-.093.415l-4.162 5.354a.5.5 0 0 1-.395.193H4.662a.5.5 0 0 1-.395-.193L.105 10.453a.5.5 0 0 1-.093-.415l1.485-6.676a.5.5 0 0 1 .267-.34L7.779.053zM8 15h3.093l3.868-4.975-1.383-6.212L8 1.058V15z\" />\r\n        </svg>\r\n        <Link to=\"/me/\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            className=\"bi bi-person-lines-fill profileIcon\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z\" />\r\n          </svg>\r\n        </Link>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default connect(null, { CHANGE_THEME })(Nav);\r\n","import React from \"react\";\r\nimport \"./style.css\";\r\nimport Search from \"../catalog/search\";\r\nimport BookList from \"../catalog/book-list\";\r\nimport Catalog2 from \"../catalog-2/main-block\";\r\nimport { CHANGE_THEME } from \"../../service/actions/books-action\";\r\nimport Nav from \"./nav\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst MainPage = ({ CHANGE_THEME }) => {\r\n  return (\r\n    <React.Fragment>\r\n      <Nav />\r\n      <div className=\"wrapper\">\r\n        <div className=\"bg-im\">\r\n          <div className=\"custom-container\">\r\n            <Search />\r\n            <BookList />\r\n          </div>\r\n        </div>\r\n        <Catalog2 />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default connect(null, { CHANGE_THEME })(MainPage);\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  getCategory,\r\n  getTypes,\r\n  getGenre,\r\n} from \"../../service/thunk/books-thunk\";\r\nimport { withRouter } from \"react-router-dom\";\r\nconst concatFilter = (arr) => {\r\n  let result = \"\";\r\n  let keys = [];\r\n\r\n  arr.forEach((item) => {\r\n    for (let key in item) {\r\n      keys.push(key);\r\n    }\r\n  });\r\n  keys = [...new Set(keys)];\r\n  keys.forEach((key) => {\r\n    let concatvalue = \"\";\r\n    arr.forEach((item) => {\r\n      if (item[key] !== undefined) {\r\n        concatvalue += `${item[key]},`;\r\n      }\r\n    });\r\n    concatvalue = concatvalue.substring(0, concatvalue.length - 1);\r\n    result += `&${key}=${concatvalue}`;\r\n  });\r\n  return result;\r\n};\r\n\r\nconst FilterBlock = ({\r\n  light,\r\n  types,\r\n  genre,\r\n  category,\r\n  getCategory,\r\n  getTypes,\r\n  getGenre,\r\n  history,\r\n  params,\r\n}) => {\r\n  const filtersRef = useRef(null);\r\n  const searchRef = useRef(null);\r\n\r\n  const getinputValue = (name) => {\r\n    const decodeurl = decodeURIComponent(name);\r\n    if (name) {\r\n      const index = decodeurl.indexOf(\"&\");\r\n      if (index > -1) {\r\n        const res = decodeurl.slice(0, index).replace(\"title=\", \"\");\r\n        return res;\r\n      } else {\r\n        const res = decodeurl.replace(\"title=\", \"\");\r\n        return res;\r\n      }\r\n    }\r\n  };\r\n\r\n  let searchValue = getinputValue(params.name);\r\n\r\n  useEffect(() => {\r\n    getCategory();\r\n    getTypes();\r\n    getGenre();\r\n  }, [getCategory, getTypes, getGenre]);\r\n\r\n  const checkFilter = () => {\r\n    const dropdowns = filtersRef.current;\r\n    const dropdownChoices = dropdowns.querySelectorAll(\".filter-choice\");\r\n    let filters = [];\r\n    dropdownChoices.forEach((item) => {\r\n      const parentId = item.parentElement.id;\r\n      const children = item.childNodes;\r\n      if (children[0].checked) {\r\n        filters.push({ [parentId]: children[1].textContent });\r\n      }\r\n    });\r\n    const filtered = concatFilter(filters);\r\n    const search = searchRef.current.value;\r\n    const result =\r\n      `title=${search.length > 0 ? search : \"\"}` + filtered + \"&page=1\";\r\n    history.push(`/filter/${result}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"filters w-100\">\r\n      <h3 style={{ height: \"3rem\", margin: \"0\", textAlign: \"center\" }}>\r\n        Фильтры\r\n      </h3>\r\n      <div className=\"filter-block\">\r\n        <input\r\n          className={\"filter-input\" + (light ? \" input-white\" : \" input-black\")}\r\n          placeholder=\"Поиск\"\r\n          ref={searchRef}\r\n          defaultValue={searchValue}\r\n        />\r\n        <div className=\"dropwdowns\" ref={filtersRef}>\r\n          <div className=\"filter-dropdown\">\r\n            <button\r\n              className={\r\n                \"filter-dropdown-button m-0\" +\r\n                (light ? \" dropdown-white\" : \" dropdown-black\")\r\n              }\r\n            >\r\n              Типы\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"currentColor\"\r\n                className=\"bi bi-caret-down dropdown-icon\"\r\n                viewBox=\"0 0 16 16\"\r\n              >\r\n                <path d=\"M3.204 5h9.592L8 10.481 3.204 5zm-.753.659l4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z\" />\r\n              </svg>\r\n            </button>\r\n            <div\r\n              className={\r\n                \"dropdown-list first\" +\r\n                (light ? \" dropdown-white\" : \" dropdown-black\")\r\n              }\r\n              id=\"types\"\r\n            >\r\n              {types.map((item, index) => (\r\n                <div className=\"filter-choice\" key={index}>\r\n                  <input type=\"checkbox\" className=\"filter-choice-checkbox\" />\r\n                  <label>{item.title}</label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"filter-dropdown\">\r\n            <button\r\n              className={\r\n                \"filter-dropdown-button m-0\" +\r\n                (light ? \" dropdown-white\" : \" dropdown-black\")\r\n              }\r\n            >\r\n              Жанры\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"currentColor\"\r\n                className=\"bi bi-caret-down dropdown-icon\"\r\n                viewBox=\"0 0 16 16\"\r\n              >\r\n                <path d=\"M3.204 5h9.592L8 10.481 3.204 5zm-.753.659l4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z\" />\r\n              </svg>\r\n            </button>\r\n            <div\r\n              className={\r\n                \"dropdown-list first\" +\r\n                (light ? \" dropdown-white\" : \" dropdown-black\")\r\n              }\r\n              id=\"genres\"\r\n            >\r\n              {genre.map((item, index) => (\r\n                <div className=\"filter-choice\" key={index}>\r\n                  <input type=\"checkbox\" className=\"filter-choice-checkbox\" />\r\n                  <label>{item.title}</label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"filter-dropdown\">\r\n            <button\r\n              className={\r\n                \"filter-dropdown-button m-0\" +\r\n                (light ? \" dropdown-white\" : \" dropdown-black\")\r\n              }\r\n            >\r\n              Категории\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"currentColor\"\r\n                className=\"bi bi-caret-down dropdown-icon\"\r\n                viewBox=\"0 0 16 16\"\r\n              >\r\n                <path d=\"M3.204 5h9.592L8 10.481 3.204 5zm-.753.659l4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z\" />\r\n              </svg>\r\n            </button>\r\n            <div\r\n              className={\r\n                \"dropdown-list\" +\r\n                (light ? \" dropdown-white\" : \" dropdown-black\")\r\n              }\r\n              id=\"category\"\r\n            >\r\n              {category.map((item, index) => (\r\n                <div className=\"filter-choice\" key={index}>\r\n                  <input type=\"checkbox\" className=\"filter-choice-checkbox\" />\r\n                  <label>{item.title}</label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <button\r\n          onClick={() => checkFilter()}\r\n          className={\"btn mt-3\" + (light ? \" btn-secondary\" : \" btn-dark\")}\r\n          style={{\r\n            paddingLeft: \"2rem\",\r\n            paddingRight: \"2rem\",\r\n            fontSize: \"18px\",\r\n          }}\r\n        >\r\n          Найти\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    light: state.bookReducer.light,\r\n    types: state.bookReducer.types,\r\n    genre: state.bookReducer.genre,\r\n    category: state.bookReducer.category,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getCategory,\r\n  getTypes,\r\n  getGenre,\r\n})(withRouter(FilterBlock));\r\n","import React, { useEffect } from \"react\";\r\nimport \"./style.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport BookItem from \"../catalog/book-item\";\r\nimport { getBooks } from \"../../service/thunk/books-thunk\";\r\n\r\nconst BookList = ({ books, params, getBooks, light, booksLoading, count }) => {\r\n  useEffect(() => {\r\n    const decodeurl = decodeURIComponent(params.name);\r\n    getBooks(\"?\" + decodeurl);\r\n  }, [params, getBooks]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"row book-list-filter\">\r\n        {books.map((item, index) => (\r\n          <div className=\"col-lg-2 col-md-3 col-4 p-0\" key={index}>\r\n            <BookItem item={item} margin={0} light={light} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    books: state.bookReducer.books,\r\n    count: state.bookReducer.count,\r\n    booksLoading: state.bookReducer.booksLoading,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { getBooks })(withRouter(BookList));\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ReactPaginate from \"react-paginate\";\r\nimport \"./style.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst PreviousLabel = ({ light }) => {\r\n  return (\r\n    <span\r\n      className={\r\n        \"pagination-btn\" + (light ? \" light-pagination\" : \" dark-pagination\")\r\n      }\r\n    >\r\n      ‹\r\n    </span>\r\n  );\r\n};\r\nconst NextLabel = ({ light }) => {\r\n  return (\r\n    <span\r\n      className={\r\n        \"pagination-btn\" + (light ? \" light-pagination\" : \" dark-pagination\")\r\n      }\r\n    >\r\n      ›\r\n    </span>\r\n  );\r\n};\r\n\r\nconst Pagination = ({ numPage, light, params, history }) => {\r\n  const onPageChange = (current) => {\r\n    const decodeurl = decodeURIComponent(params);\r\n    const currentPage = current.selected + 1;\r\n    if (params === undefined) {\r\n      history.push(`/filter/title=&page=${currentPage}`);\r\n    } else {\r\n      let match = decodeurl.match(/&page=(\\d{0,})/gm);\r\n      if (match) {\r\n        let newParams = decodeurl.replace(match[0], `&page=${currentPage}`);\r\n        history.push(`/filter/${newParams}`);\r\n      } else {\r\n        history.push(`/filter/${decodeurl}&page=${currentPage}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const [forsePage, setforse] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (params !== undefined) {\r\n      let match = params.match(/&page=(\\d{0,})/gm);\r\n      if (match) {\r\n        const num = match[0].replace(\"&page=\", \"\");\r\n        setforse(parseInt(num) - 1);\r\n      }\r\n    }\r\n  }, [params]);\r\n  return (\r\n    <ReactPaginate\r\n      pageCount={numPage}\r\n      pageRangeDisplayed={4}\r\n      marginPagesDisplayed={1}\r\n      containerClassName=\"pagination\"\r\n      pageClassName={\r\n        \"pagination-btn\" + (light ? \" light-pagination\" : \" dark-pagination\")\r\n      }\r\n      breakClassName={\r\n        \"pagination-btn\" + (light ? \" light-pagination\" : \" dark-pagination\")\r\n      }\r\n      activeClassName={light ? \" light-active\" : \" dark-active\"}\r\n      activeLinkClassName={\"active-link\"}\r\n      previousLabel={<PreviousLabel light={light} />}\r\n      nextLabel={<NextLabel light={light} />}\r\n      previousClassName=\"previous-btn\"\r\n      nextClassName=\"next-btn\"\r\n      onPageChange={onPageChange}\r\n      initialPage={0}\r\n      forcePage={forsePage}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(Pagination);\r\n","import React from \"react\";\r\nimport \"./style.css\";\r\nimport { connect } from \"react-redux\";\r\nimport FilterBlock from \"./filter-block\";\r\nimport BookList from \"./books-list\";\r\nimport { getBooks } from \"../../service/thunk/books-thunk\";\r\nimport Pagination from \"./paginations\";\r\nimport Nav from \"../mainpage/nav\";\r\n\r\nconst FilterMainPage = ({ light, params, count }) => {\r\n  return (\r\n    <React.Fragment>\r\n      <Nav />\r\n      <div className=\"wrapper\">\r\n        <div className={\"filter-wrapper\" + (light ? \" white-bg\" : \" black-bg\")}>\r\n          <div className=\"custom-container\">\r\n            <FilterBlock params={params} />\r\n            <BookList params={params} light={light} />\r\n            <Pagination\r\n              params={params.name}\r\n              numPage={count}\r\n              p={0}\r\n              light={light}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    light: state.bookReducer.light,\r\n    count: state.bookReducer.count,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { getBooks })(FilterMainPage);\r\n","const SET_AUTH = () => {\r\n  return {\r\n    type: \"SET_AUTH\",\r\n  };\r\n};\r\n\r\nconst DEL_AUTH = () => {\r\n  localStorage.setItem(\"isAuth\", \"false\");\r\n  return { type: \"DEL_AUTh\" };\r\n};\r\n\r\nconst AUTH_ERROR = () => {\r\n  return {\r\n    type: \"AUTH_ERROR\",\r\n  };\r\n};\r\n\r\nconst GET_MY_USER = (data) => {\r\n  return {\r\n    type: \"GET_MY_USER\",\r\n    data,\r\n  };\r\n};\r\n\r\nconst GET_USER = (data) => {\r\n  return {\r\n    type: \"GET_USER_BY_ID\",\r\n    data,\r\n  };\r\n};\r\nexport { SET_AUTH, DEL_AUTH, AUTH_ERROR, GET_MY_USER, GET_USER };\r\n","import axios from \"axios\";\r\n\r\nconst base_url = \"http://127.0.0.1:8000/\";\r\nfunction getCookie(name) {\r\n  let cookieValue = null;\r\n  if (document.cookie && document.cookie !== \"\") {\r\n    const cookies = document.cookie.split(\";\");\r\n    for (let i = 0; i < cookies.length; i++) {\r\n      const cookie = cookies[i].trim();\r\n      // Does this cookie string begin with the name we want?\r\n      if (cookie.substring(0, name.length + 1) === name + \"=\") {\r\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return cookieValue;\r\n}\r\n\r\nclass Profile {\r\n  async createUser(username, password, re_password, gender, first_name) {\r\n    const res = await axios.post(\r\n      base_url + \"auth/users/\",\r\n      {\r\n        username,\r\n        password,\r\n        re_password,\r\n        gender,\r\n        first_name,\r\n      },\r\n      {\r\n        \"X-CSRFToken\": getCookie(\"csrftoken\"),\r\n      }\r\n    );\r\n    if (res.status === 201) {\r\n      return res.data;\r\n    } else {\r\n      return res.data;\r\n    }\r\n  }\r\n  async loginUser(username, password) {\r\n    const res = await axios.post(\r\n      base_url + \"auth/jwt/create/\",\r\n      {\r\n        username,\r\n        password,\r\n      },\r\n      {\r\n        \"X-CSRFToken\": getCookie(\"csrftoken\"),\r\n      }\r\n    );\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      throw new Error(\"bad request\");\r\n    }\r\n  }\r\n  async getMyUser(access) {\r\n    const res = await axios.get(base_url + \"api/user/my_profile\", {\r\n      \"X-CSRFToken\": getCookie(\"csrftoken\"),\r\n      headers: {\r\n        Authorization: \"JWT \" + access,\r\n      },\r\n    });\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      throw new Error(\"bad request\");\r\n    }\r\n  }\r\n  async changeMyProfile(username, first_name, gender, access) {\r\n    const res = await axios.put(\r\n      base_url + \"api/user/my_profile\",\r\n      { username, first_name, gender },\r\n      {\r\n        \"X-CSRFToken\": getCookie(\"csrftoken\"),\r\n        headers: {\r\n          Authorization: \"JWT \" + access,\r\n        },\r\n      }\r\n    );\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      throw new Error(\"bad request\");\r\n    }\r\n  }\r\n  async setimage(image, access) {\r\n    const res = await axios.post(base_url + \"api/user/my_profile\", image, {\r\n      headers: {\r\n        Authorization: \"JWT \" + access,\r\n        \"content-type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      throw new Error(\"bad request\");\r\n    }\r\n  }\r\n  async getUserById(id) {\r\n    const res = await axios.get(base_url + `api/user/${id}`);\r\n    if (res.status === 200) {\r\n      return res.data;\r\n    } else {\r\n      throw new Error(\"bad request\");\r\n    }\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import Profile from \"../api/profile\";\r\nimport { GET_MY_USER, GET_USER } from \"../actions/profile-action\";\r\n\r\nconst api = new Profile();\r\n\r\nconst getMyUser = (access) => {\r\n  return (dispatch) => {\r\n    api.getMyUser(access).then((data) => {\r\n      dispatch(GET_MY_USER(data));\r\n    });\r\n  };\r\n};\r\n\r\nconst getUserById = (id) => {\r\n  return (dispatch) => {\r\n    api.getUserById(id).then((data) => {\r\n      dispatch(GET_USER(data));\r\n    });\r\n  };\r\n};\r\n\r\nexport { getMyUser, getUserById };\r\n","const GET_CHAPTERS = (data) => {\r\n  return { type: \"GET_CHAPTERS\", data: data };\r\n};\r\n\r\nconst GET_DETAIL_BOOK = (data) => {\r\n  console.log(data);\r\n  return { type: \"GET_DETAIL_BOOK\", data: data };\r\n};\r\n\r\nconst FETCHING_CHAPTER = () => {\r\n  return {\r\n    type: \"FETCHING_CHAPTER\",\r\n  };\r\n};\r\n\r\nconst FETCHING_BOOK = () => {\r\n  return {\r\n    type: \"FETCHING_BOOK\",\r\n  };\r\n};\r\nconst FETCHING_PAGES = () => {\r\n  return {\r\n    type: \"FETCHING_PAGES\",\r\n  };\r\n};\r\n\r\nconst GET_PAGES = (data) => {\r\n  return { type: \"GET_PAGES\", data: data };\r\n};\r\n\r\nconst GET_REVIEWS = (data) => {\r\n  return { type: \"GET_REVIEWS\", data: data };\r\n};\r\nconst GET_NOT_ORD_CHAPTERS = (data) => {\r\n  return { type: \"GET_NOT_ORD_CHAPTERS\", data: data };\r\n};\r\n\r\nexport {\r\n  GET_CHAPTERS,\r\n  GET_DETAIL_BOOK,\r\n  FETCHING_CHAPTER,\r\n  FETCHING_BOOK,\r\n  FETCHING_PAGES,\r\n  GET_PAGES,\r\n  GET_REVIEWS,\r\n  GET_NOT_ORD_CHAPTERS,\r\n};\r\n","import {\r\n  GET_CHAPTERS,\r\n  GET_DETAIL_BOOK,\r\n  FETCHING_CHAPTER,\r\n  FETCHING_BOOK,\r\n  FETCHING_PAGES,\r\n  GET_PAGES,\r\n  GET_REVIEWS,\r\n  GET_NOT_ORD_CHAPTERS,\r\n} from \"../actions/book-action\";\r\nimport BooksApi from \"../api/books-api\";\r\n\r\nconst booksApi = new BooksApi();\r\n\r\nconst getChapters = (id, page) => {\r\n  return (dispatch) => {\r\n    dispatch(FETCHING_CHAPTER());\r\n    booksApi.getChapterByBook(id, page).then((data) => {\r\n      dispatch(GET_CHAPTERS(data));\r\n    });\r\n  };\r\n};\r\n\r\nconst getNotOrderedChapterByBook = (id) => {\r\n  return (dispatch) => {\r\n    dispatch(FETCHING_CHAPTER());\r\n    booksApi.getNotOrderedChapterByBook(id).then((data) => {\r\n      dispatch(GET_NOT_ORD_CHAPTERS(data));\r\n    });\r\n  };\r\n};\r\n\r\nconst getDetailBook = (id, access) => {\r\n  return (dispatch) => {\r\n    dispatch(FETCHING_BOOK());\r\n    booksApi.getDetailBook(id, access).then((data) => {\r\n      dispatch(GET_DETAIL_BOOK(data));\r\n    });\r\n  };\r\n};\r\n\r\nconst getPages = (id) => {\r\n  return (dispatch) => {\r\n    dispatch(FETCHING_PAGES());\r\n    booksApi.getPagesByChapter(id).then((data) => {\r\n      dispatch(GET_PAGES(data));\r\n    });\r\n  };\r\n};\r\n\r\nconst getReviews = (id) => {\r\n  return (dispatch) => {\r\n    dispatch(FETCHING_PAGES());\r\n    booksApi.getReviews(id).then((data) => {\r\n      dispatch(GET_REVIEWS(data));\r\n    });\r\n  };\r\n};\r\n\r\nexport {\r\n  getChapters,\r\n  getDetailBook,\r\n  getPages,\r\n  getReviews,\r\n  getNotOrderedChapterByBook,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\nimport BooksApi from \"../../service/api/books-api\";\r\n\r\nconst RatingPopUp = ({\r\n  isOpen,\r\n  setOpen,\r\n  isAuth,\r\n  book_id,\r\n  user_id,\r\n  history,\r\n}) => {\r\n  const [chosenStar, setStar] = useState(0);\r\n  const [text, setText] = useState(\"\");\r\n  const [err, setErr] = useState(\"\");\r\n\r\n  const setComment = (text) => {\r\n    let finishedText = text;\r\n    if (text.match(/(\\r\\n|\\n|\\r)/gm) !== null) {\r\n      finishedText = text.replace(/(\\r\\n|\\n|\\r)/gm, \"<br>\");\r\n    }\r\n    if (finishedText.match(/\\s{2,}/g) !== null) {\r\n      finishedText = finishedText.replace(/\\s{2,}/g, \" \");\r\n    }\r\n    setText(finishedText);\r\n  };\r\n\r\n  const publish = () => {\r\n    let access = localStorage.getItem(\"access\");\r\n    if (access) {\r\n      access = access.slice(1, -1);\r\n      const api = new BooksApi();\r\n      api.setReview(book_id, user_id, chosenStar, text, access).catch(() => {\r\n        setErr(\"Выберите звезду\");\r\n      });\r\n      setOpen(false);\r\n    } else {\r\n      localStorage.setItem(\"isAuth\", \"false\");\r\n      localStorage.removeItem(\"access\");\r\n      localStorage.removeItem(\"refresh\");\r\n      window.location.reload(false);\r\n      history.push(\"/login/\");\r\n    }\r\n  };\r\n\r\n  if (isOpen) {\r\n    if (isAuth || JSON.parse(localStorage.getItem(\"isAuth\"))) {\r\n      return (\r\n        <React.Fragment>\r\n          <svg style={{ display: \"none\" }}>\r\n            <symbol id=\"star2\" viewBox=\"0 -10 511.98685 511\">\r\n              <g>\r\n                <path d=\"m510.652344 185.902344c-3.351563-10.367188-12.546875-17.730469-23.425782-18.710938l-147.773437-13.417968-58.433594-136.769532c-4.308593-10.023437-14.121093-16.511718-25.023437-16.511718s-20.714844 6.488281-25.023438 16.535156l-58.433594 136.746094-147.796874 13.417968c-10.859376 1.003906-20.03125 8.34375-23.402344 18.710938-3.371094 10.367187-.257813 21.738281 7.957031 28.90625l111.699219 97.960937-32.9375 145.089844c-2.410156 10.667969 1.730468 21.695313 10.582031 28.09375 4.757813 3.4375 10.324219 5.1875 15.9375 5.1875 4.839844 0 9.640625-1.304687 13.949219-3.882813l127.46875-76.183593 127.421875 76.183593c9.324219 5.609376 21.078125 5.097657 29.910156-1.304687 8.855469-6.417969 12.992187-17.449219 10.582031-28.09375l-32.9375-145.089844 111.699219-97.941406c8.214844-7.1875 11.351563-18.539063 7.980469-28.925781zm0 0\" />\r\n              </g>\r\n            </symbol>\r\n          </svg>\r\n          <div className=\"popup-background\">\r\n            <div className=\"popup-form\">\r\n              <span className=\"close\" onClick={() => setOpen(false)}>\r\n                X\r\n              </span>\r\n              <div className=\"set-star\">\r\n                {err ? <span className=\"text-danger\">{err}</span> : null}\r\n\r\n                {[1, 2, 3, 4, 5].map((item) => (\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                    }}\r\n                    key={item}\r\n                  >\r\n                    <svg\r\n                      className={\r\n                        \"icon-detail star\" +\r\n                        (chosenStar === item ? \" chosenStar\" : \"\")\r\n                      }\r\n                      onClick={() => setStar(item)}\r\n                    >\r\n                      <use xlinkHref=\"#star2\"></use>\r\n                    </svg>\r\n                    <span\r\n                      className=\"star-value\"\r\n                      style={{ color: \"white\", paddingRight: \"10px\" }}\r\n                    >\r\n                      {item}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"set-comment-value\">\r\n                <div\r\n                  style={{\r\n                    color: \"white\",\r\n                    marginBottom: \"10px\",\r\n                    marginTop: \"10px\",\r\n                  }}\r\n                >\r\n                  <h6>Оставьте свой комментарий:</h6>\r\n                </div>\r\n                <textarea\r\n                  rows=\"5\"\r\n                  cols=\"50\"\r\n                  style={{\r\n                    background: \"black\",\r\n                    outline: \"none\",\r\n                    border: \"0\",\r\n                    color: \"white\",\r\n                  }}\r\n                  className=\"form-control\"\r\n                  onChange={(e) => setComment(e.target.value)}\r\n                ></textarea>\r\n                <button\r\n                  className=\"btn btn-warning mt-2\"\r\n                  onClick={() => publish()}\r\n                >\r\n                  Опубликовать\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      );\r\n    } else {\r\n      return <Redirect to=\"/login/\" />;\r\n    }\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default withRouter(RatingPopUp);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst ChapterItem = ({ light, item, history }) => {\r\n  return (\r\n    <div\r\n      className=\"chapter-item\"\r\n      style={{ background: light ? \"#fafafa\" : \"#121212\" }}\r\n      onClick={() => history.push(`/detail/pages/${item.id}`)}\r\n    >\r\n      <div className=\"chapter-info\">\r\n        <h6>{item.title} </h6>\r\n        <span>{item.created_date}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    light: state.bookReducer.light,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(withRouter(ChapterItem));\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./style.css\";\r\n\r\nconst ReviewItem = ({ item, light, history }) => {\r\n  const [starPrecent, setPersent] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const value = item.star;\r\n    const persent = (parseInt(value) / 5) * 100;\r\n    setPersent(persent);\r\n  }, [item]);\r\n  return (\r\n    <div\r\n      className=\"review-item\"\r\n      style={{ background: light ? \"#fafafa\" : \"#121212\" }}\r\n    >\r\n      <div className=\"review-img-wrapper\">\r\n        <img src={item.user.image} className=\"review-img\" alt=\"poster\" />\r\n      </div>\r\n      <div className=\"review-text\">\r\n        <h6\r\n          onClick={() => history.push(\"/profile/\" + item.user.id)}\r\n          className=\"comment-title\"\r\n          style={{ display: \"inline\", cursor: \"pointer\" }}\r\n        >\r\n          {item.user.username}\r\n        </h6>\r\n        <div className=\"rating\">\r\n          <div className=\"rating__body\">\r\n            <div\r\n              className=\"rating__active\"\r\n              style={{ width: `${starPrecent}%` }}\r\n            ></div>\r\n            <div className=\"rating__items\">\r\n              <input type=\"radio\" className=\"rating__item\" value={1} />\r\n              <input type=\"radio\" className=\"rating__item\" value={2} />\r\n              <input type=\"radio\" className=\"rating__item\" value={3} />\r\n              <input type=\"radio\" className=\"rating__item\" value={4} />\r\n              <input type=\"radio\" className=\"rating__item\" value={5} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <p dangerouslySetInnerHTML={{ __html: item.text }} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(ReviewItem);\r\n","import React from \"react\";\r\nimport ReactPaginate from \"react-paginate\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst PreviousLabel = ({ light }) => {\r\n  return (\r\n    <span\r\n      className={\r\n        \"pagination-btn\" + (light ? \" light-pagination\" : \" dark-pagination\")\r\n      }\r\n    >\r\n      ‹\r\n    </span>\r\n  );\r\n};\r\nconst NextLabel = ({ light }) => {\r\n  return (\r\n    <span\r\n      className={\r\n        \"pagination-btn\" + (light ? \" light-pagination\" : \" dark-pagination\")\r\n      }\r\n    >\r\n      ›\r\n    </span>\r\n  );\r\n};\r\n\r\nconst Pagination = ({ numPage, light, params, history }) => {\r\n  const onPageChange = (current) => {\r\n    const decodeurl = decodeURIComponent(params);\r\n    const currentPage = current.selected + 1;\r\n    let match = decodeurl.match(/&page=(\\d{0,})/gm);\r\n    if (match) {\r\n      let newParams = decodeurl.replace(match[0], `&page=${currentPage}`);\r\n      history.push(`/detail/${newParams}`);\r\n    } else {\r\n      history.push(`/detail/${params}&page=${currentPage}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ReactPaginate\r\n      pageCount={numPage}\r\n      pageRangeDisplayed={4}\r\n      marginPagesDisplayed={1}\r\n      containerClassName=\"pagination\"\r\n      pageClassName={\r\n        \"pagination-btn\" + (light ? \" light-pagination\" : \" dark-pagination\")\r\n      }\r\n      breakClassName={\r\n        \"pagination-btn\" + (light ? \" light-pagination\" : \" dark-pagination\")\r\n      }\r\n      activeClassName={light ? \" light-active\" : \" dark-active\"}\r\n      activeLinkClassName={\"active-link\"}\r\n      previousLabel={<PreviousLabel light={light} />}\r\n      nextLabel={<NextLabel light={light} />}\r\n      previousClassName=\"previous-btn\"\r\n      nextClassName=\"next-btn\"\r\n      onPageChange={onPageChange}\r\n      initialPage={0}\r\n      forcePage={0}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(Pagination);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {\r\n  getDetailBook,\r\n  getChapters,\r\n  getReviews,\r\n} from \"../../service/thunk/detail-thunk\";\r\nimport { GET_DETAIL_BOOK } from \"../../service/actions/book-action\";\r\nimport RatingPopUp from \"./rating-popup\";\r\nimport BooksApi from \"../../service/api/books-api\";\r\nimport ChapterItem from \"./chapter-item\";\r\nimport ReviewItem from \"./review-item\";\r\nimport Pagination from \"./pagination\";\r\nimport \"./style.css\";\r\nimport Nav from \"../mainpage/nav\";\r\n\r\nconst DetailPage = ({\r\n  light,\r\n  params,\r\n  history,\r\n  getDetailBook,\r\n  getChapters,\r\n  title,\r\n  description,\r\n  views,\r\n  created_date,\r\n  status,\r\n  category,\r\n  genre,\r\n  types,\r\n  poster,\r\n  is_liked,\r\n  average_rating,\r\n  chapters,\r\n  page_count,\r\n  chapterloading,\r\n  bookLoading,\r\n  isAuth,\r\n  id,\r\n  GET_DETAIL_BOOK,\r\n  getReviews,\r\n  reviews,\r\n  myuser,\r\n}) => {\r\n  const [subUrl, setSub] = useState(1);\r\n  const [bookId, setBookId] = useState(0);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const decodeurl = decodeURIComponent(params.id);\r\n    const access = JSON.parse(localStorage.getItem(\"access\"));\r\n    const match = decodeurl.match(/id=(\\d{0,})/gm);\r\n    const id = match[0].replace(\"id=\", \"\");\r\n    getDetailBook(id, access);\r\n    getChapters(id);\r\n    getReviews(id);\r\n    setBookId(id);\r\n  }, [getDetailBook, getChapters, getReviews]); // getting book data\r\n\r\n  useEffect(() => {\r\n    const decodeurl = decodeURIComponent(params.id);\r\n    const page = decodeurl.match(/&page=(\\d{0,})/gm);\r\n    if (page) {\r\n      const num = page[0].replace(\"&page=\", \"\");\r\n      getChapters(bookId, num);\r\n    }\r\n  }, [params, bookId, getChapters]); //set pagination settings\r\n\r\n  const addLike = () => {\r\n    if (isAuth || JSON.parse(localStorage.getItem(\"isAuth\"))) {\r\n      const api = new BooksApi();\r\n      const access = localStorage.getItem(\"access\").slice(1, -1);\r\n      api.setLike(id, access).then((data) => {\r\n        GET_DETAIL_BOOK(data);\r\n      });\r\n    } else {\r\n      history.push(\"/login/\");\r\n    }\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <Nav />\r\n      <div className={\"detail-wrapper \" + (light ? \"light-bg\" : \"black-bg\")}>\r\n        <svg style={{ display: \"none\" }}>\r\n          <symbol id=\"star\" viewBox=\"0 -10 511.98685 511\">\r\n            <g>\r\n              <path\r\n                d=\"m510.652344 185.902344c-3.351563-10.367188-12.546875-17.730469-23.425782-18.710938l-147.773437-13.417968-58.433594-136.769532c-4.308593-10.023437-14.121093-16.511718-25.023437-16.511718s-20.714844 6.488281-25.023438 16.535156l-58.433594 136.746094-147.796874 13.417968c-10.859376 1.003906-20.03125 8.34375-23.402344 18.710938-3.371094 10.367187-.257813 21.738281 7.957031 28.90625l111.699219 97.960937-32.9375 145.089844c-2.410156 10.667969 1.730468 21.695313 10.582031 28.09375 4.757813 3.4375 10.324219 5.1875 15.9375 5.1875 4.839844 0 9.640625-1.304687 13.949219-3.882813l127.46875-76.183593 127.421875 76.183593c9.324219 5.609376 21.078125 5.097657 29.910156-1.304687 8.855469-6.417969 12.992187-17.449219 10.582031-28.09375l-32.9375-145.089844 111.699219-97.941406c8.214844-7.1875 11.351563-18.539063 7.980469-28.925781zm0 0\"\r\n                fill=\"#ffc107\"\r\n              />\r\n            </g>\r\n          </symbol>\r\n          <symbol id=\"heart\" viewBox=\"0 0 512 512\">\r\n            <g>\r\n              <path d=\"m246.122 477.289c-144.417-126.367-246.122-193.304-246.122-299.774 0-80.513 57.4-146.515 136-146.515 54.544 0 95.017 33.497 120 81.015 24.981-47.515 65.454-81.015 120-81.015 78.609 0 136 66.015 136 146.515 0 106.457-101.572 173.291-246.122 299.773-5.657 4.949-14.1 4.949-19.756.001z\" />\r\n            </g>\r\n          </symbol>\r\n          <symbol id=\"eye\" viewBox=\"0 0 511.999 511.999\">\r\n            <g>\r\n              <g>\r\n                <g>\r\n                  <path\r\n                    d=\"M508.745,246.041c-4.574-6.257-113.557-153.206-252.748-153.206S7.818,239.784,3.249,246.035\r\n\t\t\tc-4.332,5.936-4.332,13.987,0,19.923c4.569,6.257,113.557,153.206,252.748,153.206s248.174-146.95,252.748-153.201\r\n\t\t\tC513.083,260.028,513.083,251.971,508.745,246.041z M255.997,385.406c-102.529,0-191.33-97.533-217.617-129.418\r\n\t\t\tc26.253-31.913,114.868-129.395,217.617-129.395c102.524,0,191.319,97.516,217.617,129.418\r\n\t\t\tC447.361,287.923,358.746,385.406,255.997,385.406z\"\r\n                  />\r\n                </g>\r\n              </g>\r\n              <g>\r\n                <g>\r\n                  <path\r\n                    d=\"M255.997,154.725c-55.842,0-101.275,45.433-101.275,101.275s45.433,101.275,101.275,101.275\r\n\t\t\ts101.275-45.433,101.275-101.275S311.839,154.725,255.997,154.725z M255.997,323.516c-37.23,0-67.516-30.287-67.516-67.516\r\n\t\t\ts30.287-67.516,67.516-67.516s67.516,30.287,67.516,67.516S293.227,323.516,255.997,323.516z\"\r\n                  />\r\n                </g>\r\n              </g>\r\n            </g>\r\n          </symbol>\r\n        </svg>\r\n        <div className=\"detail-container\">\r\n          {bookLoading ? (\r\n            <div\r\n              style={{\r\n                width: \"100%\",\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                marginTop: \"5vh\",\r\n              }}\r\n            >\r\n              <div className=\"spinner-border\" role=\"status\">\r\n                <span className=\"sr-only\"></span>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div\r\n              className={\r\n                \"detail-block row \" +\r\n                (light ? \"detail-block-lt\" : \"detail-block-bl\")\r\n              }\r\n            >\r\n              <div className=\"detail-img-block col-12 col-sm-3 p-0\">\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"100%\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                  className=\"d-image-wrapper\"\r\n                >\r\n                  <img src={poster} className=\"detail-img\" alt=\"poster\" />\r\n                </div>\r\n                <div className=\"read\">\r\n                  <button\r\n                    className=\"btn btn-block\"\r\n                    onClick={() => setSub(2)}\r\n                    style={{ background: \"#4e6baf\" }}\r\n                  >\r\n                    Читать\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div\r\n                className=\"detail-info-block col-12 col-sm-9\"\r\n                style={light ? { color: \"black\" } : { color: \"white\" }}\r\n              >\r\n                <div className=\"detail-header\">\r\n                  <h2 style={{ overflowX: \"auto\", overflowY: \"hidden\" }}>\r\n                    {title} ({status})\r\n                  </h2>\r\n                  <div className=\"header-display\">\r\n                    <div\r\n                      style={{\r\n                        marginRight: \"5%\",\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                      }}\r\n                    >\r\n                      <svg\r\n                        className=\"icon-detail\"\r\n                        onClick={() => setOpen(true)}\r\n                      >\r\n                        <use xlinkHref=\"#star\"></use>\r\n                      </svg>\r\n                      <span className=\"star-value\">{average_rating}</span>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        marginRight: \"5%\",\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                      }}\r\n                    >\r\n                      <svg\r\n                        className={\r\n                          \"icon-detail heart\" + (is_liked ? \" liked\" : \"\")\r\n                        }\r\n                        onClick={() => addLike()}\r\n                      >\r\n                        <use xlinkHref=\"#heart\"></use>\r\n                      </svg>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        marginRight: \"5%\",\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                      }}\r\n                    >\r\n                      <svg className=\"icon-detail eye\">\r\n                        <use xlinkHref=\"#eye\"></use>\r\n                      </svg>\r\n                      <span className=\"star-value\">{views}</span>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        marginRight: \"5%\",\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        fontSize: \"18px\",\r\n                      }}\r\n                    >\r\n                      <span className=\"star-value\">{types}</span>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        marginRight: \"5%\",\r\n                        display: \"flex\",\r\n                        fontSize: \"18px\",\r\n                        alignItems: \"center\",\r\n                      }}\r\n                    >\r\n                      <span className=\"star-value\">{created_date}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"detail-main\">\r\n                  <div className=\"detail-nav\">\r\n                    <span\r\n                      className={\r\n                        \"nav-btn \" + (subUrl === 1 ? \"active-btn\" : \"\")\r\n                      }\r\n                      onClick={() => {\r\n                        setSub(1);\r\n                      }}\r\n                    >\r\n                      Описание\r\n                    </span>\r\n                    <span\r\n                      className={\r\n                        \"nav-btn \" + (subUrl === 2 ? \"active-btn\" : \"\")\r\n                      }\r\n                      onClick={() => {\r\n                        setSub(2);\r\n                      }}\r\n                    >\r\n                      Главы\r\n                    </span>\r\n                    <span\r\n                      className={\r\n                        \"nav-btn \" + (subUrl === 3 ? \"active-btn\" : \"\")\r\n                      }\r\n                      onClick={() => {\r\n                        setSub(3);\r\n                      }}\r\n                    >\r\n                      Отзывы\r\n                    </span>\r\n                  </div>\r\n\r\n                  {subUrl === 1 && (\r\n                    <div className=\"detail-description\">\r\n                      <div className=\"detail-genres\">\r\n                        <span\r\n                          style={{\r\n                            display: \"block\",\r\n                            overflowX: \"scroll\",\r\n                          }}\r\n                        >\r\n                          Категория:{\" \"}\r\n                          {category.map((item) => (\r\n                            <span key={item}>{item}, </span>\r\n                          ))}\r\n                        </span>\r\n                        <span\r\n                          style={{\r\n                            display: \"block\",\r\n                          }}\r\n                        >\r\n                          Жанр:{\" \"}\r\n                          {genre.map((item) => (\r\n                            <span key={item}>{item}, </span>\r\n                          ))}\r\n                        </span>\r\n                      </div>\r\n                      <h6>Краткое описание: </h6>\r\n                      <div className=\"description\">{description}</div>\r\n                    </div>\r\n                  )}\r\n                  {subUrl === 2 && (\r\n                    <div className=\"chapter-block\">\r\n                      {chapterloading ? (\r\n                        <div\r\n                          style={{\r\n                            width: \"100%\",\r\n                            display: \"flex\",\r\n                            justifyContent: \"center\",\r\n                            marginTop: \"5vh\",\r\n                          }}\r\n                        >\r\n                          <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\"></span>\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        chapters.map((item) => (\r\n                          <ChapterItem item={item} key={item.id} />\r\n                        ))\r\n                      )}\r\n                      <Pagination\r\n                        light={light}\r\n                        params={params.id}\r\n                        numPage={page_count}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  {subUrl === 3 && (\r\n                    <div\r\n                      style={{\r\n                        marginLeft: \"5px\",\r\n                        paddingTop: \"10px\",\r\n                      }}\r\n                    >\r\n                      {reviews.length > 0 ? (\r\n                        reviews.map((item) => (\r\n                          <ReviewItem item={item} light={light} key={item} />\r\n                        ))\r\n                      ) : (\r\n                        <span>Отзывов пока нет.Станьте первым</span>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <RatingPopUp\r\n        isOpen={open}\r\n        setOpen={setOpen}\r\n        isAuth={isAuth}\r\n        book_id={bookId}\r\n        user_id={myuser.id}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    light: state.bookReducer.light,\r\n    title: state.BookDetailReducer.title,\r\n    description: state.BookDetailReducer.description,\r\n    views: state.BookDetailReducer.views,\r\n    created_date: state.BookDetailReducer.created_date,\r\n    status: state.BookDetailReducer.status,\r\n    category: state.BookDetailReducer.category,\r\n    genre: state.BookDetailReducer.genre,\r\n    types: state.BookDetailReducer.types,\r\n    poster: state.BookDetailReducer.poster,\r\n    is_liked: state.BookDetailReducer.is_liked,\r\n    average_rating: state.BookDetailReducer.average_rating,\r\n    chapters: state.BookDetailReducer.chapters,\r\n    page_count: state.BookDetailReducer.page_count,\r\n    chapterloading: state.BookDetailReducer.Chapterloading,\r\n    bookLoading: state.BookDetailReducer.bookLoading,\r\n    reviews: state.BookDetailReducer.reviews,\r\n    id: state.BookDetailReducer.id,\r\n    isAuth: state.ProfileReducer.isAuth,\r\n    myuser: state.ProfileReducer.myuser,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getDetailBook,\r\n  getChapters,\r\n  GET_DETAIL_BOOK,\r\n  getReviews,\r\n})(withRouter(DetailPage));\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { getNotOrderedChapterByBook } from \"../../service/thunk/detail-thunk\";\r\n\r\nconst PageNav = ({ info, chapters, getNotOrderedChapterByBook, history }) => {\r\n  let book_title = info.book !== undefined ? info.book.title : null;\r\n  let book_id = info.book !== undefined ? info.book.id : null;\r\n  let mb_chp = info.chapter_num ? info.chapter_num.replace(\"Глава \", \"\") : null;\r\n\r\n  useEffect(() => {\r\n    if (book_id !== null) {\r\n      getNotOrderedChapterByBook(book_id);\r\n    }\r\n  }, [book_id, getNotOrderedChapterByBook]);\r\n\r\n  useEffect(() => {\r\n    let prevScrollpos = window.pageYOffset;\r\n    window.onscroll = function () {\r\n      let currentScrollPos = window.pageYOffset;\r\n      let navbar = document.getElementById(\"page-nav\");\r\n      if (navbar) {\r\n        if (prevScrollpos > currentScrollPos) {\r\n          navbar.style.top = \"0\";\r\n        } else {\r\n          navbar.style.top = \"-50px\";\r\n        }\r\n      }\r\n\r\n      prevScrollpos = currentScrollPos;\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <nav\r\n      className=\"my-nav\"\r\n      style={{\r\n        position: \"fixed\",\r\n        gridTemplateColumns:\r\n          window.screen.width > 1050 ? \"1fr 3fr 1fr\" : \"1fr 3fr 1fr\",\r\n        padding: \"0 8% 0 8%\",\r\n        transition: \"top 0.3s\",\r\n      }}\r\n      id=\"page-nav\"\r\n    >\r\n      <svg style={{ display: \"none\" }}>\r\n        <symbol id=\"back-arrow\" viewBox=\"0 0 512 512\">\r\n          <g>\r\n            <g>\r\n              <path\r\n                d=\"M492,236H68.442l70.164-69.824c7.829-7.792,7.859-20.455,0.067-28.284c-7.792-7.83-20.456-7.859-28.285-0.068\r\n\t\t\tl-104.504,104c-0.007,0.006-0.012,0.013-0.018,0.019c-7.809,7.792-7.834,20.496-0.002,28.314c0.007,0.006,0.012,0.013,0.018,0.019\r\n\t\t\tl104.504,104c7.828,7.79,20.492,7.763,28.285-0.068c7.792-7.829,7.762-20.492-0.067-28.284L68.442,276H492\r\n\t\t\tc11.046,0,20-8.954,20-20C512,244.954,503.046,236,492,236z\"\r\n              />\r\n            </g>\r\n          </g>\r\n        </symbol>\r\n      </svg>\r\n      <div className=\"main-nav-part\">\r\n        <div>\r\n          <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n            <h3 className=\"title-brand\">\r\n              {window.screen.width > 800 ? <span>Title</span> : <span>TL</span>}\r\n            </h3>\r\n          </Link>\r\n        </div>\r\n        {window.screen.width > 800 ? (\r\n          <Link to=\"/filter/\" style={{ textDecoration: \"none\" }}>\r\n            <div className=\"cat-link\">\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"currentColor\"\r\n                className=\"bi bi-bar-chart-line-fill cat-icon\"\r\n                viewBox=\"0 0 16 16\"\r\n              >\r\n                <path d=\"M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2z\" />\r\n              </svg>\r\n              <span>Каталог</span>\r\n            </div>\r\n          </Link>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"center-nav-part\">\r\n        {window.screen.width > 1100 ? (\r\n          <Link\r\n            to={`/detail/id=${book_id}`}\r\n            style={{\r\n              textDecoration: \"none\",\r\n              whiteSpace: \"nowrap\",\r\n              textOverflow: \"ellipsis\",\r\n              maxWidth: \"150px\",\r\n              overflowX: \"hidden\",\r\n              color: \"white\",\r\n            }}\r\n          >\r\n            {book_title}\r\n          </Link>\r\n        ) : (\r\n          <Link\r\n            to={`/detail/id=${book_id}`}\r\n            style={{\r\n              textDecoration: \"none\",\r\n              whiteSpace: \"nowrap\",\r\n              textOverflow: \"ellipsis\",\r\n              maxWidth: \"150px\",\r\n              overflowX: \"hidden\",\r\n              color: \"white\",\r\n            }}\r\n          >\r\n            <svg className=\"back-arrow\">\r\n              <use xlinkHref=\"#back-arrow\"></use>\r\n            </svg>\r\n          </Link>\r\n        )}\r\n\r\n        <div className=\"chapter-nav\">\r\n          {info.previous ? (\r\n            <span\r\n              className=\"chapter-arrow left\"\r\n              onClick={() => history.push(\"/detail/pages/\" + info.previous)}\r\n            >\r\n              ‹\r\n            </span>\r\n          ) : null}\r\n\r\n          <span className=\"nav-title-ch\">\r\n            {window.screen.width < 700 ? mb_chp : info.chapter_num}\r\n          </span>\r\n          {info.next ? (\r\n            <span\r\n              className=\"chapter-arrow right\"\r\n              onClick={() => history.push(\"/detail/pages/\" + info.next)}\r\n            >\r\n              ›\r\n            </span>\r\n          ) : null}\r\n\r\n          <div className=\"ch-dropdown\">\r\n            <ul className=\"ch-list m-0\">\r\n              {chapters.map((item) => (\r\n                <li\r\n                  className={item.title === info.title ? \"active-cp\" : \"\"}\r\n                  onClick={() => history.push(\"/detail/pages/\" + item.id)}\r\n                >\r\n                  {item.chapter_num}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"right-side-nav\">\r\n        <Link to=\"/me/\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            className=\"bi bi-person-lines-fill profileIcon\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z\" />\r\n          </svg>\r\n        </Link>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    chapters: state.BookDetailReducer.all_chapters,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { getNotOrderedChapterByBook })(\r\n  withRouter(PageNav)\r\n);\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getPages, getChapters } from \"../../service/thunk/detail-thunk\";\r\nimport PageNav from \"./page-nav\";\r\n\r\nconst PagesBlock = ({\r\n  params,\r\n  pages,\r\n  getPages,\r\n  info,\r\n  pages_loading,\r\n  getChapters,\r\n}) => {\r\n  let book_id = info.book !== undefined ? info.book.id : null;\r\n  console.log(info);\r\n  useEffect(() => {\r\n    const decodeurl = decodeURIComponent(params.id);\r\n    getPages(decodeurl);\r\n  }, [params, getPages]);\r\n\r\n  useEffect(() => {\r\n    if (book_id) {\r\n      getChapters(book_id);\r\n    }\r\n  }, [book_id, getChapters]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <PageNav info={info} getChapters={getChapters} />\r\n      <div className=\"pages-wrapper\">\r\n        <div className=\"custom-container\">\r\n          <div style={{ display: \"grid\", justifyContent: \"center\" }}>\r\n            {pages_loading ? (\r\n              <div\r\n                style={{\r\n                  width: \"100%\",\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  marginTop: \"5vh\",\r\n                }}\r\n              >\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                  <span className=\"sr-only\"></span>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                <h3 style={{ color: \"white\" }}>{info.title}</h3>\r\n                <span>Дата выхода: {info.created_date}</span>\r\n                <div style={{ display: \"grid\", justifyContent: \"center\" }}>\r\n                  {pages.length > 0\r\n                    ? pages[0].map((item, index) => (\r\n                        <div\r\n                          style={{\r\n                            width: \"100%\",\r\n                            height: \"100%\",\r\n                            display: \"flex\",\r\n                            justifyContent: \"center\",\r\n                          }}\r\n                        >\r\n                          <img\r\n                            src={item.picture}\r\n                            key={index}\r\n                            style={{ maxWidth: \"100%\" }}\r\n                            alt=\"page\"\r\n                          />\r\n                        </div>\r\n                      ))\r\n                    : null}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    pages: state.BookDetailReducer.pages,\r\n    info: state.BookDetailReducer.pages_info,\r\n    pages_loading: state.BookDetailReducer.pages_loading,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { getPages, getChapters })(PagesBlock);\r\n","export const required = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field is required\";\r\n};\r\n\r\nexport const passwordsMatch = (value, allValues) => {\r\n  console.log(allValues);\r\n  if (value !== allValues.password) {\r\n    return \"Passwords don't match\";\r\n  }\r\n  return undefined;\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet CustomField = ({\r\n  input,\r\n  type,\r\n  placeholder,\r\n  label,\r\n  meta: { touched, error, warning },\r\n  light,\r\n}) => {\r\n  return (\r\n    <div style={{ marginBottom: \"15px\" }}>\r\n      <label className=\"label\">{label}:</label>\r\n      <input\r\n        {...input}\r\n        placeholder={placeholder}\r\n        type={type}\r\n        className={\"form-control \" + (light ? \"light-input\" : \"black-input\")}\r\n      />\r\n      {touched &&\r\n        ((error && <span className=\"text-danger\">{error}</span>) ||\r\n          (warning && <span className=\"text-danger\">{warning}</span>))}\r\n    </div>\r\n  );\r\n};\r\n\r\nlet GenderInput = ({\r\n  name,\r\n  label,\r\n  meta: { touched, error, warning },\r\n  light,\r\n}) => {\r\n  return (\r\n    <div style={{ marginBottom: \"15px\" }}>\r\n      <label className=\"label\">{label}:</label>\r\n      <select\r\n        name={name}\r\n        className={\"form-control \" + (light ? \"light-input\" : \"black-input\")}\r\n        style={light ? { color: \"aqua\" } : { color: \"red\" }}\r\n      >\r\n        <option></option>\r\n        <option value=\"Male\">Мужской</option>\r\n        <option value=\"Female\">Женский</option>\r\n      </select>\r\n      {touched &&\r\n        ((error && <span className=\"text-danger\">{error}</span>) ||\r\n          (warning && <span className=\"text-danger\">{warning}</span>))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    light: state.bookReducer.light,\r\n  };\r\n};\r\n\r\nCustomField = connect(mapStateToProps)(CustomField);\r\n\r\nGenderInput = connect(mapStateToProps)(GenderInput);\r\n\r\nexport { CustomField, GenderInput };\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport {\r\n  SET_AUTH,\r\n  DEL_AUTH,\r\n  AUTH_ERROR,\r\n} from \"../../service/actions/profile-action\";\r\nimport { connect } from \"react-redux\";\r\nimport { required } from \"./validator\";\r\nimport \"./style.css\";\r\nimport { CustomField } from \"./input\";\r\nimport Profile from \"../../service/api/profile\";\r\nimport Nav from \"../mainpage/nav\";\r\n\r\nlet LoginForm = (props) => {\r\n  const Login = (values) => {\r\n    const profileApi = new Profile();\r\n    profileApi\r\n      .loginUser(values.username, values.password)\r\n      .then((tokens) => {\r\n        props.SET_AUTH();\r\n        localStorage.setItem(\"access\", JSON.stringify(tokens.access));\r\n        localStorage.setItem(\"refresh\", JSON.stringify(tokens.refresh));\r\n        props.history.push(\"/\");\r\n        window.location.reload(false);\r\n      })\r\n      .catch(() => {\r\n        props.AUTH_ERROR();\r\n      });\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <Nav />\r\n      <div className={\"wrapper \"}>\r\n        <div\r\n          className={\"form-wrapper \" + (props.light ? \"light-bg\" : \"black-bg\")}\r\n        >\r\n          <div className=\"custom-container\">\r\n            <div className=\"form-block\">\r\n              <form\r\n                className={\r\n                  \"login-form \" + (props.light ? \"light-form\" : \"black-form\")\r\n                }\r\n                onSubmit={props.handleSubmit(Login)}\r\n              >\r\n                <div className=\"form-title\">\r\n                  <h5>LOGIN</h5>\r\n                </div>\r\n                {props.authError ? (\r\n                  <span className=\"text-danger\">\r\n                    Неправильный логин или пароль\r\n                  </span>\r\n                ) : null}\r\n                <Field\r\n                  name=\"username\"\r\n                  component={CustomField}\r\n                  type=\"text\"\r\n                  placeholder=\"Username\"\r\n                  className=\"form-control\"\r\n                  props={{ label: \"Введите ваш логин\" }}\r\n                  validate={[required]}\r\n                />\r\n                <Field\r\n                  name=\"password\"\r\n                  component={CustomField}\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  className=\"form-control\"\r\n                  props={{ label: \"Введите ваш пароль\" }}\r\n                  validate={[required]}\r\n                />\r\n                <button\r\n                  className={\"btn btn-warning form-btn\"}\r\n                  style={{ marginBottom: \"20px\" }}\r\n                  type=\"submit\"\r\n                >\r\n                  Войти\r\n                </button>\r\n                <span>\r\n                  Нет аккаунта? <Link to=\"/register/\">Sign Up</Link>\r\n                </span>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    light: state.bookReducer.light,\r\n    isAuth: state.ProfileReducer.isAuth,\r\n    authError: state.ProfileReducer.authError,\r\n  };\r\n};\r\n\r\nLoginForm = reduxForm({\r\n  form: \"login-from\",\r\n})(LoginForm);\r\n\r\nexport default connect(mapStateToProps, { SET_AUTH, DEL_AUTH, AUTH_ERROR })(\r\n  withRouter(LoginForm)\r\n);\r\n","import React, { useState } from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./style.css\";\r\nimport { CustomField } from \"./input\";\r\nimport { required, passwordsMatch } from \"./validator\";\r\nimport Profile from \"../../service/api/profile\";\r\nimport Nav from \"../mainpage/nav\";\r\n\r\nlet RegisterForm = (props) => {\r\n  const [stateErr, putError] = useState(null);\r\n\r\n  const Register = (values) => {\r\n    const profileApi = new Profile();\r\n    const gender = values.gender === \"empty\" ? null : values.gender;\r\n    profileApi\r\n      .createUser(\r\n        values.username,\r\n        values.password,\r\n        values.re_password,\r\n        gender,\r\n        values.name\r\n      )\r\n      .then((tokens) => {\r\n        localStorage.setItem(\"access\", JSON.stringify(tokens.access));\r\n        localStorage.setItem(\"refresh\", JSON.stringify(tokens.refresh));\r\n        props.history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        const keys = Object.keys(err.response.data);\r\n        let errors = [];\r\n        keys.forEach((key) => {\r\n          errors.push(...err.response.data[key]);\r\n        });\r\n        putError(errors);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Nav />\r\n      <div className={\"wrapper \"}>\r\n        <div\r\n          className={\"form-wrapper \" + (props.light ? \"light-bg\" : \"black-bg\")}\r\n        >\r\n          <div className=\"custom-container\">\r\n            <div className=\"form-block\">\r\n              <form\r\n                className={\r\n                  \"login-form \" + (props.light ? \"light-form\" : \"black-form\")\r\n                }\r\n                onSubmit={props.handleSubmit(Register)}\r\n              >\r\n                <div className=\"form-title\">\r\n                  <h5>Register</h5>\r\n                </div>\r\n                <Field\r\n                  name=\"name\"\r\n                  component={CustomField}\r\n                  type=\"text\"\r\n                  placeholder=\"Имя\"\r\n                  className=\"form-control\"\r\n                  props={{ label: \"Введите ваш имя\" }}\r\n                  validate={[required]}\r\n                />\r\n                <Field\r\n                  name=\"username\"\r\n                  component={CustomField}\r\n                  type=\"text\"\r\n                  placeholder=\"Username\"\r\n                  className=\"form-control\"\r\n                  props={{ label: \"Введите ваш никнейм\" }}\r\n                  validate={[required]}\r\n                />\r\n                <div style={{ marginBottom: \"15px\" }}>\r\n                  <label className=\"label\">Выберите пол:</label>\r\n                  <Field\r\n                    name=\"gender\"\r\n                    type=\"text\"\r\n                    component=\"select\"\r\n                    props={{ label: \"Выберите пол\" }}\r\n                    className={\r\n                      \"form-control \" +\r\n                      (props.light ? \"light-input\" : \"black-input\")\r\n                    }\r\n                    style={props.light ? { color: \"aqua\" } : { color: \"red\" }}\r\n                  >\r\n                    <option value=\"empty\"></option>\r\n                    <option value=\"male\">Мужской</option>\r\n                    <option value=\"female\">Женский</option>\r\n                  </Field>\r\n                </div>\r\n                <Field\r\n                  name=\"password\"\r\n                  component={CustomField}\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  className=\"form-control\"\r\n                  props={{ label: \"Введите ваш пароль\" }}\r\n                  validate={[required]}\r\n                />\r\n                <Field\r\n                  name=\"re_password\"\r\n                  component={CustomField}\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  className=\"form-control\"\r\n                  props={{ label: \"Повторите ваш пароль\" }}\r\n                  validate={[required, passwordsMatch]}\r\n                />\r\n                {stateErr\r\n                  ? stateErr.map((item) => (\r\n                      <span className=\"text-danger d-block\" key={item}>\r\n                        {item}\r\n                      </span>\r\n                    ))\r\n                  : null}\r\n                <button className={\"btn btn-warning form-btn\"} type=\"submit\">\r\n                  Зарегистрироваться\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    light: state.bookReducer.light,\r\n  };\r\n};\r\n\r\nRegisterForm = reduxForm({\r\n  form: \"register-from\",\r\n})(RegisterForm);\r\n\r\nexport default connect(mapStateToProps)(RegisterForm);\r\n","import React, { useRef, useState } from \"react\";\r\nimport Profile from \"../../service/api/profile\";\r\n\r\nconst ImagePopUp = ({ isOpen, setOpen }) => {\r\n  const inputEl = useRef(null);\r\n  const [res, setRes] = useState([]);\r\n\r\n  const load = async () => {\r\n    const api = new Profile();\r\n    const files = inputEl.current.files;\r\n    let data = new FormData();\r\n    data.append(\"image\", files[0], files[0].name);\r\n    api\r\n      .setimage(data, localStorage.getItem(\"access\").slice(1, -1))\r\n      .then((r) => {\r\n        setRes([\"success\", \"Загружено успешно\"]);\r\n      })\r\n      .catch((error) => {\r\n        setRes([\"danger\", \"Ошибка при загрузке\"]);\r\n      });\r\n  };\r\n  if (isOpen) {\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <div className=\"popup-background\">\r\n          <div className=\"popup-form\">\r\n            <span className=\"close\" onClick={() => setOpen(false)}>\r\n              X\r\n            </span>\r\n            {res !== [] ? (\r\n              <span className={`text-${res[0]} d-block`}>{res[1]}</span>\r\n            ) : null}\r\n            <input type=\"file\" ref={inputEl} style={{ display: \"block\" }} />\r\n            <button\r\n              className=\"btn btn-warning d-block mt-2\"\r\n              onClick={() => load()}\r\n            >\r\n              Загрузить\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default ImagePopUp;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { required } from \"./validator\";\r\nimport { CustomField } from \"./input\";\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\nimport { SET_AUTH, DEL_AUTH } from \"../../service/actions/profile-action\";\r\nimport { getMyUser } from \"../../service/thunk/profile\";\r\nimport Profile from \"../../service/api/profile\";\r\nimport ImagePopUp from \"./image-popup\";\r\nimport BookItem from \"../catalog/book-item\";\r\nimport Nav from \"../mainpage/nav\";\r\n\r\nimport \"./style.css\";\r\n\r\nlet Private = (props) => {\r\n  const [subUrl, setSub] = useState(1);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"access\")) {\r\n      const access = localStorage.getItem(\"access\").slice(1, -1);\r\n      props.getMyUser(access);\r\n    }\r\n  }, [props]);\r\n\r\n  const changeValues = (values) => {\r\n    const api = new Profile();\r\n    const access = localStorage.getItem(\"access\").slice(1, -1);\r\n    api.changeMyProfile(values.username, values.name, values.gender, access);\r\n    props.getMyUser(access);\r\n  };\r\n\r\n  if (props.isAuth || JSON.parse(localStorage.getItem(\"isAuth\"))) {\r\n    return (\r\n      <React.Fragment>\r\n        <Nav />\r\n        <div className=\"wrapper\">\r\n          <div\r\n            className={\r\n              \"profile-wrapper \" + (props.light ? \"light-bg\" : \"black-bg\")\r\n            }\r\n          >\r\n            <div className=\"custom-container\">\r\n              <div\r\n                className={\r\n                  \"detail-block row \" +\r\n                  (props.light ? \"detail-block-lt\" : \"detail-block-bl\")\r\n                }\r\n              >\r\n                <div className=\"detail-img-block col-12 col-lg-3\">\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      width: \"100%\",\r\n                      justifyContent: \"center\",\r\n                      alignItems: \"center\",\r\n                    }}\r\n                    className=\"p-image\"\r\n                  >\r\n                    <img\r\n                      src={props.myuser.image}\r\n                      className=\"profile-img\"\r\n                      alt=\"profile-img\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"read\">\r\n                    <button\r\n                      className=\"btn btn-success btn-block\"\r\n                      onClick={() => setOpen(!open)}\r\n                    >\r\n                      Изменить фото\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  className=\"detail-info-block col-12 col-lg-9\"\r\n                  style={props.light ? { color: \"black\" } : { color: \"white\" }}\r\n                >\r\n                  <div className=\"detail-main\">\r\n                    <div className=\"detail-nav prof-nav\">\r\n                      <span\r\n                        className={\r\n                          \"nav-btn \" + (subUrl === 1 ? \"active-btn\" : \"\")\r\n                        }\r\n                        onClick={() => {\r\n                          setSub(1);\r\n                        }}\r\n                      >\r\n                        Информация\r\n                      </span>\r\n                      <span\r\n                        className={\r\n                          \"nav-btn \" + (subUrl === 2 ? \"active-btn\" : \"\")\r\n                        }\r\n                        onClick={() => {\r\n                          setSub(2);\r\n                        }}\r\n                      >\r\n                        Понравившиеся\r\n                      </span>\r\n                    </div>\r\n                    {subUrl === 1 ? (\r\n                      <form\r\n                        style={{ marginLeft: \"10px\" }}\r\n                        onSubmit={props.handleSubmit(changeValues)}\r\n                      >\r\n                        <Field\r\n                          name=\"name\"\r\n                          component={CustomField}\r\n                          type=\"text\"\r\n                          placeholder=\"Name\"\r\n                          className=\"form-control\"\r\n                          props={{ label: \"Ваше Имя\" }}\r\n                          validate={[required]}\r\n                          onChange={(e) => console.log(e.target.value)}\r\n                        />\r\n                        <Field\r\n                          name=\"username\"\r\n                          component={CustomField}\r\n                          type=\"text\"\r\n                          placeholder=\"Username\"\r\n                          className=\"form-control\"\r\n                          props={{ label: \"Ваш логин\" }}\r\n                          validate={[required]}\r\n                        />\r\n                        <div style={{ marginBottom: \"15px\" }}>\r\n                          <label className=\"label\">Выберите пол:</label>\r\n                          <Field\r\n                            name=\"gender\"\r\n                            type=\"text\"\r\n                            component=\"select\"\r\n                            props={{ label: \"Выберите пол\" }}\r\n                            className={\r\n                              \"form-control \" +\r\n                              (props.light ? \"light-input\" : \"black-input\")\r\n                            }\r\n                            style={\r\n                              props.light ? { color: \"aqua\" } : { color: \"red\" }\r\n                            }\r\n                          >\r\n                            <option value=\"male\">Мужской</option>\r\n                            <option value=\"female\">Женский</option>\r\n                          </Field>\r\n                        </div>\r\n                        <button className=\"btn btn-warning btn-block\">\r\n                          Сохранить изменения\r\n                        </button>\r\n                        <button\r\n                          className=\"btn btn-danger btn-block\"\r\n                          style={{ marginTop: \"15px\" }}\r\n                          onClick={() => {\r\n                            localStorage.removeItem(\"access\");\r\n                            localStorage.removeItem(\"refresh\");\r\n                            props.DEL_AUTH();\r\n                            window.location.reload(false);\r\n                            props.history.push(\"/\");\r\n                          }}\r\n                        >\r\n                          Выйти\r\n                        </button>\r\n                      </form>\r\n                    ) : (\r\n                      <div className=\"row\">\r\n                        {props.myuser.books_like.slice(0, 6).map((item) => (\r\n                          <div\r\n                            className=\"col-xl-4 col-md-4 col-6\"\r\n                            style={{ marginTop: \"15px\" }}\r\n                            key={item}\r\n                          >\r\n                            <BookItem item={item} />\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <ImagePopUp isOpen={open} setOpen={setOpen} />\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  } else {\r\n    return <Redirect to=\"/login/\" />;\r\n  }\r\n};\r\n\r\nPrivate = reduxForm({\r\n  form: \"profile\",\r\n  enableReinitialize: true,\r\n})(Private);\r\n\r\nconst privateStateToProps = (state) => {\r\n  return {\r\n    light: state.bookReducer.light,\r\n    isAuth: state.ProfileReducer.isAuth,\r\n    myuser: state.ProfileReducer.myuser,\r\n    initialValues: {\r\n      name: state.ProfileReducer.myuser.first_name,\r\n      username: state.ProfileReducer.myuser.username,\r\n      gender: state.ProfileReducer.myuser.gender,\r\n    },\r\n  };\r\n};\r\n\r\nconst PrivateProfile = connect(privateStateToProps, {\r\n  SET_AUTH,\r\n  DEL_AUTH,\r\n  getMyUser,\r\n})(withRouter(Private));\r\n\r\nexport { PrivateProfile };\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { getUserById } from \"../../service/thunk/profile\";\r\nimport Nav from \"../mainpage/nav\";\r\n\r\nlet Public = ({ params, light, user, getUserById }) => {\r\n  useEffect(() => {\r\n    const decodeurl = decodeURIComponent(params);\r\n    getUserById(decodeurl);\r\n  }, [getUserById, params]);\r\n\r\n  let date_joined;\r\n  if (user.date_joined !== undefined) {\r\n    const date_joined_id = user.date_joined.indexOf(\"T\");\r\n    date_joined = user.date_joined.slice(0, date_joined_id);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Nav />\r\n      <div className=\"wrapper\">\r\n        <div className={\"profile-wrapper \" + (light ? \"light-bg\" : \"black-bg\")}>\r\n          <div className=\"custom-container\">\r\n            <div\r\n              className={\r\n                \"detail-block row \" +\r\n                (light ? \"detail-block-lt\" : \"detail-block-bl\")\r\n              }\r\n            >\r\n              <div className=\"detail-img-block col-12 col-lg-3\">\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"100%\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <img\r\n                    src={user.image}\r\n                    className=\"detail-img profile-img\"\r\n                    alt=\"profile-img\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"detail-info-block col-12 col-lg-9\"\r\n                style={light ? { color: \"black\" } : { color: \"white\" }}\r\n              >\r\n                <div className=\"detail-nav\">\r\n                  <span className={\"nav-btn active-btn\"}>Информация</span>\r\n                </div>\r\n                <div style={{ marginLeft: \"10px\" }}>\r\n                  <div>\r\n                    <h6>\r\n                      Имя: <span>{user.first_name}</span>\r\n                    </h6>\r\n                  </div>\r\n                  <div>\r\n                    <h6>\r\n                      Никнейм: <span>{user.username}</span>\r\n                    </h6>\r\n                  </div>\r\n                  <div>\r\n                    <h6>\r\n                      Дата создания: <span>{date_joined}</span>\r\n                    </h6>\r\n                  </div>\r\n                  <div>\r\n                    <h6>\r\n                      Пол:{\" \"}\r\n                      <span>{user.gender ? user.gender : \"Не определен\"}</span>\r\n                    </h6>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    light: state.bookReducer.light,\r\n    user: state.ProfileReducer.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { getUserById })(withRouter(Public));\r\n","import axios from \"axios\";\r\n\r\nconst checkingToken = async (access, refresh) => {\r\n  if (access !== \"\" && refresh !== \"\") {\r\n    let acc = access.slice(1, -1);\r\n    const request = await axios\r\n      .post(\"http://127.0.0.1:8000/auth/jwt/verify/\", {\r\n        token: acc,\r\n      })\r\n      .catch(() => false);\r\n    if (request === false) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n};\r\n\r\nconst isToken = async () => {\r\n  const isaccess = localStorage.getItem(\"access\");\r\n  const isrefresh = localStorage.getItem(\"refresh\");\r\n  if (isaccess === null || isrefresh === null) {\r\n    localStorage.setItem(\"isAuth\", JSON.stringify(false));\r\n    return false;\r\n  } else {\r\n    const valid = await checkingToken(isaccess, isrefresh);\r\n    if (valid === false) {\r\n      localStorage.setItem(\"isAuth\", JSON.stringify(false));\r\n      localStorage.removeItem(\"access\");\r\n      localStorage.removeItem(\"refresh\");\r\n      return false;\r\n    } else {\r\n      localStorage.setItem(\"isAuth\", JSON.stringify(true));\r\n      return true;\r\n    }\r\n  }\r\n};\r\n\r\nexport { isToken };\r\n","import React, { useEffect } from \"react\";\nimport MainPage from \"./components/mainpage/mainpage\";\nimport { Route } from \"react-router-dom\";\nimport FilterMainPage from \"./components/filter-page/main-block\";\nimport { connect } from \"react-redux\";\nimport { CHANGE_THEME } from \"./service/actions/books-action\";\nimport { SET_AUTH, DEL_AUTH } from \"./service/actions/profile-action\";\nimport { getMyUser } from \"./service/thunk/profile\";\nimport DetailPage from \"./components/detail-page/detail\";\nimport PagesBlock from \"./components/detail-page/page\";\nimport Loginform from \"./components/auth/login\";\nimport RegisterForm from \"./components/auth/register\";\nimport { PrivateProfile } from \"./components/auth/profile\";\nimport Public from \"./components/auth/public\";\nimport { isToken } from \"./service/auth/JWT\";\n\nconst App = ({ CHANGE_THEME, SET_AUTH, DEL_AUTH, getMyUser }) => {\n  useEffect(() => {\n    const status = isToken();\n    status.then((value) => {\n      if (value) {\n        SET_AUTH();\n        const access = localStorage.getItem(\"access\").slice(1, -1);\n        getMyUser(access);\n      } else {\n        DEL_AUTH();\n      }\n    });\n  }, [getMyUser, SET_AUTH, DEL_AUTH]);\n  return (\n    <div style={{ position: \"relative\", width: \"100%\" }}>\n      <Route path=\"/\" component={MainPage} exact />\n      <Route\n        path=\"/filter/:name?\"\n        render={({ match }) => {\n          return <FilterMainPage params={match.params} />;\n        }}\n        exact\n      />\n      <Route\n        path=\"/detail/:id\"\n        render={({ match }) => {\n          return <DetailPage params={match.params} />;\n        }}\n        exact\n      />\n      <Route\n        path=\"/detail/pages/:id\"\n        render={({ match }) => {\n          return <PagesBlock params={match.params} />;\n        }}\n        exact\n      />\n      <Route path=\"/login/\" component={Loginform} exact />\n      <Route path=\"/register/\" component={RegisterForm} exact />\n      <Route path=\"/me/\" component={PrivateProfile} exact />\n      <Route\n        path=\"/profile/:id?\"\n        render={({ match }) => <Public params={match.params.id} />}\n        exact\n      />\n    </div>\n  );\n};\n\nexport default connect(null, { CHANGE_THEME, SET_AUTH, DEL_AUTH, getMyUser })(\n  App\n);\n","const initialState = {\r\n  mostRated: [],\r\n  mostPopular: [],\r\n  newest: [],\r\n  booksLoading: false,\r\n  light: false,\r\n  types: [],\r\n  genre: [],\r\n  category: [],\r\n  books: [],\r\n  count: 0,\r\n  next: \"\",\r\n  previous: \"\",\r\n};\r\n\r\nconst bookReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"FETCHING_DATA\":\r\n      return { ...state, booksLoading: true };\r\n    case \"GET_THE_MOST_RATED\":\r\n      return { ...state, mostRated: action.data, booksLoading: false };\r\n    case \"GET_THE_MOST_POPULAR\":\r\n      return { ...state, mostPopular: action.data, booksLoading: false };\r\n    case \"GET_THE_NEWEST\":\r\n      return { ...state, newest: action.data, booksLoading: false };\r\n    case \"GET_TYPES\":\r\n      return { ...state, types: action.data };\r\n    case \"GET_GENRE\":\r\n      return { ...state, genre: action.data };\r\n    case \"GET_CATEGORY\":\r\n      return { ...state, category: action.data };\r\n    case \"GET_BOOKS\":\r\n      return {\r\n        ...state,\r\n        books: action.data.results,\r\n        count: action.data.page_count,\r\n        next: action.data.next,\r\n        previous: action.data.previous,\r\n        booksLoading: false,\r\n      };\r\n    case \"CHANGE_THEME\":\r\n      return { ...state, light: !state.light };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default bookReducer;\r\n","const initialState = {\r\n  title: \"\",\r\n  description: \"\",\r\n  views: 0,\r\n  created_date: 0,\r\n  status: \"\",\r\n  category: [],\r\n  genre: [],\r\n  types: \"\",\r\n  poster: \"\",\r\n  is_liked: false,\r\n  average_rating: 0,\r\n  id: 0,\r\n  chapters: [],\r\n  all_chapters: [],\r\n  page_count: 0,\r\n  count: 0,\r\n  Chapterloading: false,\r\n  bookLoading: false,\r\n  pages_info: [],\r\n  pages: [],\r\n  pages_loading: false,\r\n  reviews: [],\r\n};\r\n\r\nconst BookDetailReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"FETCHING_CHAPTER\":\r\n      return { ...state, Chapterloading: true };\r\n    case \"FETCHING_BOOK\":\r\n      return { ...state, bookLoading: true };\r\n    case \"FETCHING_PAGES\":\r\n      return { ...state, pages_loading: true };\r\n    case \"GET_DETAIL_BOOK\":\r\n      return {\r\n        ...state,\r\n        title: action.data.title,\r\n        description: action.data.description,\r\n        views: action.data.views,\r\n        created_date: action.data.created_date,\r\n        status: action.data.status,\r\n        category: action.data.category,\r\n        genre: action.data.genre,\r\n        types: action.data.types,\r\n        poster: action.data.poster,\r\n        is_liked: action.data.is_liked,\r\n        average_rating: action.data.average_rating,\r\n        id: action.data.id,\r\n        bookLoading: false,\r\n      };\r\n    case \"GET_CHAPTERS\":\r\n      return {\r\n        ...state,\r\n        page_count: action.data.page_count,\r\n        count: action.data.count,\r\n        chapters: action.data.results,\r\n        Chapterloading: false,\r\n      };\r\n    case \"GET_NOT_ORD_CHAPTERS\":\r\n      return {\r\n        ...state,\r\n        all_chapters: action.data,\r\n      };\r\n    case \"GET_PAGES\":\r\n      return {\r\n        ...state,\r\n        pages_info: {\r\n          title: action.data.title,\r\n          created_date: action.data.created_date,\r\n          book: action.data.book,\r\n          previous: action.data.previous_chapter,\r\n          next: action.data.next_chapter,\r\n          chapter_num: action.data.chapter_num,\r\n        },\r\n        pages: [action.data.page],\r\n        pages_loading: false,\r\n      };\r\n    case \"GET_REVIEWS\":\r\n      return {\r\n        ...state,\r\n        reviews: action.data,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default BookDetailReducer;\r\n","const initialState = {\r\n  isAuth: false,\r\n  authError: false,\r\n  myuser: [],\r\n  user: [],\r\n};\r\n\r\nconst ProfileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_AUTH\":\r\n      return { ...state, isAuth: true };\r\n    case \"DEL_AUTH\":\r\n      return { ...state, isAuth: false };\r\n    case \"AUTH_ERROR\":\r\n      return { ...state, authError: true };\r\n    case \"GET_MY_USER\":\r\n      return { ...state, myuser: action.data };\r\n    case \"GET_USER_BY_ID\":\r\n      return { ...state, user: action.data };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default ProfileReducer;\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nimport bookReducer from \"./components/reducers/books\";\r\nimport BookDetailReducer from \"./components/reducers/detail-book\";\r\nimport ProfileReducer from \"./components/reducers/profile\";\r\n\r\nconst store = createStore(\r\n  combineReducers({\r\n    bookReducer,\r\n    BookDetailReducer,\r\n    ProfileReducer,\r\n    form: formReducer,\r\n  }),\r\n  applyMiddleware(thunk)\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}